 /*
 * # Semantic UI - 2.4.0
 * https://github.com/Semantic-Org/Semantic-UI
 * http://www.semantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(m,b,h,v){m.site=m.fn.site=function(e){var a,c,i=(new Date).getTime(),o=[],t=e,n="string"==typeof t,l=[].slice.call(arguments,1),u=m.isPlainObject(e)?m.extend(!0,{},m.site.settings,e):m.extend({},m.site.settings),r=u.namespace,d=u.error,s="module-"+r,f=m(h),g=this,p=f.data(s);return a={initialize:function(){a.instantiate()},instantiate:function(){a.verbose("Storing instance of site",a),p=a,f.data(s,a)},normalize:function(){a.fix.console(),a.fix.requestAnimationFrame()},fix:{console:function(){a.debug("Normalizing window.console"),console!==v&&console.log!==v||(a.verbose("Console not available, normalizing events"),a.disable.console()),void 0!==console.group&&void 0!==console.groupEnd&&void 0!==console.groupCollapsed||(a.verbose("Console group not available, normalizing events"),b.console.group=function(){},b.console.groupEnd=function(){},b.console.groupCollapsed=function(){}),void 0===console.markTimeline&&(a.verbose("Mark timeline not available, normalizing events"),b.console.markTimeline=function(){})},consoleClear:function(){a.debug("Disabling programmatic console clearing"),b.console.clear=function(){}},requestAnimationFrame:function(){a.debug("Normalizing requestAnimationFrame"),b.requestAnimationFrame===v&&(a.debug("RequestAnimationFrame not available, normalizing event"),b.requestAnimationFrame=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(e){return m.fn[e]!==v&&m.fn[e].settings!==v},enabled:{modules:function(e){var n=[];return e=e||u.modules,m.each(e,function(e,t){a.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(e){var n=[];return e=e||u.modules,m.each(e,function(e,t){a.moduleExists(t)||n.push(t)}),n}},change:{setting:function(o,r,e,s){e="string"==typeof e?"all"===e?u.modules:[e]:e||u.modules,s=s===v||s,m.each(e,function(e,t){var n,i=!a.moduleExists(t)||(m.fn[t].settings.namespace||!1);a.moduleExists(t)&&(a.verbose("Changing default setting",o,r,t),m.fn[t].settings[o]=r,s&&i&&0<(n=m(":data(module-"+i+")")).length&&(a.verbose("Modifying existing settings",n),n[t]("setting",o,r)))})},settings:function(i,e,o){e="string"==typeof e?[e]:e||u.modules,o=o===v||o,m.each(e,function(e,t){var n;a.moduleExists(t)&&(a.verbose("Changing default setting",i,t),m.extend(!0,m.fn[t].settings,i),o&&r&&0<(n=m(":data(module-"+r+")")).length&&(a.verbose("Modifying existing settings",n),n[t]("setting",i)))})}},enable:{console:function(){a.console(!0)},debug:function(e,t){e=e||u.modules,a.debug("Enabling debug for modules",e),a.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||u.modules,a.debug("Enabling verbose debug for modules",e),a.change.setting("verbose",!0,e,t)}},disable:{console:function(){a.console(!1)},debug:function(e,t){e=e||u.modules,a.debug("Disabling debug for modules",e),a.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||u.modules,a.debug("Disabling verbose debug for modules",e),a.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(p.cache.console===v)return void a.error(d.console);a.debug("Restoring console function"),b.console=p.cache.console}else a.debug("Disabling console function"),p.cache.console=b.console,b.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){a.verbose("Destroying previous site for",f),f.removeData(s)},cache:{},setting:function(e,t){if(m.isPlainObject(e))m.extend(!0,u,e);else{if(t===v)return u[e];u[e]=t}},internal:function(e,t){if(m.isPlainObject(e))m.extend(!0,a,e);else{if(t===v)return a[e];a[e]=t}},debug:function(){u.debug&&(u.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,u.name+":"),a.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),a.verbose.apply(console,arguments)))},error:function(){a.error=Function.prototype.bind.call(console.error,console,u.name+":"),a.error.apply(console,arguments)},performance:{log:function(e){var t,n;u.performance&&(n=(t=(new Date).getTime())-(i||t),i=t,o.push({Element:g,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,500)},display:function(){var e=u.name+":",n=0;i=!1,clearTimeout(a.performance.timer),m.each(o,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",(console.group!==v||console.table!==v)&&0<o.length&&(console.groupCollapsed(e),console.table?console.table(o):m.each(o,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),o=[]}},invoke:function(i,e,t){var o,r,n,s=p;return e=e||l,t=g||t,"string"==typeof i&&s!==v&&(i=i.split(/[\. ]/),o=i.length-1,m.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(m.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==v)return r=s[n],!1;if(!m.isPlainObject(s[t])||e==o)return s[t]!==v?r=s[t]:a.error(d.method,i),!1;s=s[t]}})),m.isFunction(r)?n=r.apply(t,e):r!==v&&(n=r),m.isArray(c)?c.push(n):c!==v?c=[c,n]:n!==v&&(c=n),r}},n?(p===v&&a.initialize(),a.invoke(t)):(p!==v&&a.destroy(),a.initialize()),c!==v?c:this},m.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},m.extend(m.expr[":"],{data:m.expr.createPseudo?m.expr.createPseudo(function(t){return function(e){return!!m.data(e,t)}}):function(e,t,n){return!!m.data(e,n[3])}})}(jQuery,window,document),function(F,e,O,q){"use strict";e=void 0!==e&&e.Math==Math?e:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),F.fn.form=function(x){var k,C=F(this),w=C.selector||"",R=(new Date).getTime(),S=[],T=x,P=arguments[1],E="string"==typeof T,A=[].slice.call(arguments,1);return C.each(function(){var n,c,t,e,d,l,u,f,g,i,a,o,r,p,m,b,s=F(this),h=this,v=[],y=!1;(b={initialize:function(){b.get.settings(),E?(m===q&&b.instantiate(),b.invoke(T)):(m!==q&&m.invoke("destroy"),b.verbose("Initializing form validation",s,d),b.bindEvents(),b.set.defaults(),b.instantiate())},instantiate:function(){b.verbose("Storing instance of module",b),m=b,s.data(r,b)},destroy:function(){b.verbose("Destroying previous module",m),b.removeEvents(),s.removeData(r)},refresh:function(){b.verbose("Refreshing selector cache"),n=s.find(f.field),c=s.find(f.group),t=s.find(f.message),s.find(f.prompt),e=s.find(f.submit),s.find(f.clear),s.find(f.reset)},submit:function(){b.verbose("Submitting form",s),s.submit()},attachEvents:function(e,t){t=t||"submit",F(e).on("click"+p,function(e){b[t](),e.preventDefault()})},bindEvents:function(){b.verbose("Attaching form events"),s.on("submit"+p,b.validate.form).on("blur"+p,f.field,b.event.field.blur).on("click"+p,f.submit,b.submit).on("click"+p,f.reset,b.reset).on("click"+p,f.clear,b.clear),d.keyboardShortcuts&&s.on("keydown"+p,f.field,b.event.field.keydown),n.each(function(){var e=F(this),t=e.prop("type"),n=b.get.changeEvent(t,e);F(this).on(n+p,b.event.field.change)})},clear:function(){n.each(function(){var e=F(this),t=e.parent(),n=e.closest(c),i=n.find(f.prompt),o=e.data(u.defaultValue)||"",r=t.is(f.uiCheckbox),s=t.is(f.uiDropdown);n.hasClass(g.error)&&(b.verbose("Resetting error on field",n),n.removeClass(g.error),i.remove()),s?(b.verbose("Resetting dropdown value",t,o),t.dropdown("clear")):r?e.prop("checked",!1):(b.verbose("Resetting field value",e,o),e.val(""))})},reset:function(){n.each(function(){var e=F(this),t=e.parent(),n=e.closest(c),i=n.find(f.prompt),o=e.data(u.defaultValue),r=t.is(f.uiCheckbox),s=t.is(f.uiDropdown),a=n.hasClass(g.error);o!==q&&(a&&(b.verbose("Resetting error on field",n),n.removeClass(g.error),i.remove()),s?(b.verbose("Resetting dropdown value",t,o),t.dropdown("restore defaults")):r?(b.verbose("Resetting checkbox value",t,o),e.prop("checked",o)):(b.verbose("Resetting field value",e,o),e.val(o)))})},determine:{isValid:function(){var n=!0;return F.each(l,function(e,t){b.validate.field(t,e,!0)||(n=!1)}),n}},is:{bracketedRule:function(e){return e.type&&e.type.match(d.regExp.bracket)},shorthandFields:function(e){var t=e[Object.keys(e)[0]];return b.is.shorthandRules(t)},shorthandRules:function(e){return"string"==typeof e||F.isArray(e)},empty:function(e){return!e||0===e.length||(e.is('input[type="checkbox"]')?!e.is(":checked"):b.is.blank(e))},blank:function(e){return""===F.trim(e.val())},valid:function(e){var n=!0;return e?(b.verbose("Checking if field is valid",e),b.validate.field(l[e],e,!1)):(b.verbose("Checking if form is valid"),F.each(l,function(e,t){b.is.valid(e)||(n=!1)}),n)}},removeEvents:function(){s.off(p),n.off(p),e.off(p),n.off(p)},event:{field:{keydown:function(e){var t=F(this),n=e.which,i=t.is(f.input),o=t.is(f.checkbox),r=0<t.closest(f.uiDropdown).length,s=13;n==27&&(b.verbose("Escape key pressed blurring field"),t.blur()),e.ctrlKey||n!=s||!i||r||o||(y||(t.one("keyup"+p,b.event.field.keyup),b.submit(),b.debug("Enter pressed on input submitting form")),y=!0)},keyup:function(){y=!1},blur:function(e){var t=F(this),n=t.closest(c),i=b.get.validation(t);n.hasClass(g.error)?(b.debug("Revalidating field",t,i),i&&b.validate.field(i)):"blur"==d.on&&i&&b.validate.field(i)},change:function(e){var t=F(this),n=t.closest(c),i=b.get.validation(t);i&&("change"==d.on||n.hasClass(g.error)&&d.revalidate)&&(clearTimeout(b.timer),b.timer=setTimeout(function(){b.debug("Revalidating field",t,b.get.validation(t)),b.validate.field(i)},d.delay))}}},get:{ancillaryValue:function(e){return!(!e.type||!e.value&&!b.is.bracketedRule(e))&&(e.value!==q?e.value:e.type.match(d.regExp.bracket)[1]+"")},ruleName:function(e){return b.is.bracketedRule(e)?e.type.replace(e.type.match(d.regExp.bracket)[0],""):e.type},changeEvent:function(e,t){return"checkbox"==e||"radio"==e||"hidden"==e||t.is("select")?"change":b.get.inputEvent()},inputEvent:function(){return O.createElement("input").oninput!==q?"input":O.createElement("input").onpropertychange!==q?"propertychange":"keyup"},fieldsFromShorthand:function(e){var i={};return F.each(e,function(n,e){"string"==typeof e&&(e=[e]),i[n]={rules:[]},F.each(e,function(e,t){i[n].rules.push({type:t})})}),i},prompt:function(e,t){var n,i,o=b.get.ruleName(e),r=b.get.ancillaryValue(e),s=b.get.field(t.identifier),a=s.val(),c=F.isFunction(e.prompt)?e.prompt(a):e.prompt||d.prompt[o]||d.text.unspecifiedRule,l=-1!==c.search("{value}"),u=-1!==c.search("{name}");return l&&(c=c.replace("{value}",s.val())),u&&(i=1==(n=s.closest(f.group).find("label").eq(0)).length?n.text():s.prop("placeholder")||d.text.unspecifiedField,c=c.replace("{name}",i)),c=(c=c.replace("{identifier}",t.identifier)).replace("{ruleValue}",r),e.prompt||b.verbose("Using default validation prompt for type",c,o),c},settings:function(){if(F.isPlainObject(x)){var e=Object.keys(x);0<e.length&&(x[e[0]].identifier!==q&&x[e[0]].rules!==q)?(d=F.extend(!0,{},F.fn.form.settings,P),l=F.extend({},F.fn.form.settings.defaults,x),b.error(d.error.oldSyntax,h),b.verbose("Extending settings from legacy parameters",l,d)):(x.fields&&b.is.shorthandFields(x.fields)&&(x.fields=b.get.fieldsFromShorthand(x.fields)),d=F.extend(!0,{},F.fn.form.settings,x),l=F.extend({},F.fn.form.settings.defaults,d.fields),b.verbose("Extending settings",l,d))}else d=F.fn.form.settings,l=F.fn.form.settings.defaults,b.verbose("Using default form validation",l,d);o=d.namespace,u=d.metadata,f=d.selector,g=d.className,i=d.regExp,a=d.error,r="module-"+o,p="."+o,m=s.data(r),b.refresh()},field:function(e){return b.verbose("Finding field with identifier",e),e=b.escape.string(e),0<n.filter("#"+e).length?n.filter("#"+e):0<n.filter('[name="'+e+'"]').length?n.filter('[name="'+e+'"]'):0<n.filter('[name="'+e+'[]"]').length?n.filter('[name="'+e+'[]"]'):0<n.filter("[data-"+u.validate+'="'+e+'"]').length?n.filter("[data-"+u.validate+'="'+e+'"]'):F("<input/>")},fields:function(e){var n=F();return F.each(e,function(e,t){n=n.add(b.get.field(t))}),n},validation:function(n){var i,o;return!!l&&(F.each(l,function(e,t){o=t.identifier||e,b.get.field(o)[0]==n[0]&&(t.identifier=o,i=t)}),i||!1)},value:function(e){var t=[];return t.push(e),b.get.values.call(h,t)[e]},values:function(e){var t=F.isArray(e)?b.get.fields(e):n,l={};return t.each(function(e,t){var n=F(t),i=(n.prop("type"),n.prop("name")),o=n.val(),r=n.is(f.checkbox),s=n.is(f.radio),a=-1!==i.indexOf("[]"),c=!!r&&n.is(":checked");i&&(a?(i=i.replace("[]",""),l[i]||(l[i]=[]),r?c?l[i].push(o||!0):l[i].push(!1):l[i].push(o)):s?l[i]!==q&&0!=l[i]||(l[i]=!!c&&(o||!0)):l[i]=r?!!c&&(o||!0):o)}),l}},has:{field:function(e){return b.verbose("Checking for existence of a field with identifier",e),"string"!=typeof(e=b.escape.string(e))&&b.error(a.identifier,e),0<n.filter("#"+e).length||(0<n.filter('[name="'+e+'"]').length||0<n.filter("[data-"+u.validate+'="'+e+'"]').length)}},escape:{string:function(e){return(e=String(e)).replace(i.escape,"\\$&")}},add:{rule:function(e,t){b.add.field(e,t)},field:function(n,e){var i={};b.is.shorthandRules(e)?(e=F.isArray(e)?e:[e],i[n]={rules:[]},F.each(e,function(e,t){i[n].rules.push({type:t})})):i[n]=e,l=F.extend({},l,i),b.debug("Adding rules",i,l)},fields:function(e){var t;t=e&&b.is.shorthandFields(e)?b.get.fieldsFromShorthand(e):e,l=F.extend({},l,t)},prompt:function(e,t){var n=b.get.field(e).closest(c),i=n.children(f.prompt),o=0!==i.length;t="string"==typeof t?[t]:t,b.verbose("Adding field error state",e),n.addClass(g.error),d.inline&&(o||(i=d.templates.prompt(t)).appendTo(n),i.html(t[0]),o?b.verbose("Inline errors are disabled, no inline error added",e):d.transition&&F.fn.transition!==q&&s.transition("is supported")?(b.verbose("Displaying error with css transition",d.transition),i.transition(d.transition+" in",d.duration)):(b.verbose("Displaying error with fallback javascript animation"),i.fadeIn(d.duration)))},errors:function(e){b.debug("Adding form error messages",e),b.set.error(),t.html(d.templates.error(e))}},remove:{rule:function(n,e){var i=F.isArray(e)?e:[e];if(e==q)return b.debug("Removed all rules"),void(l[n].rules=[]);l[n]!=q&&F.isArray(l[n].rules)&&F.each(l[n].rules,function(e,t){-1!==i.indexOf(t.type)&&(b.debug("Removed rule",t.type),l[n].rules.splice(e,1))})},field:function(e){var t=F.isArray(e)?e:[e];F.each(t,function(e,t){b.remove.rule(t)})},rules:function(e,n){F.isArray(e)?F.each(fields,function(e,t){b.remove.rule(t,n)}):b.remove.rule(e,n)},fields:function(e){b.remove.field(e)},prompt:function(e){var t=b.get.field(e).closest(c),n=t.children(f.prompt);t.removeClass(g.error),d.inline&&n.is(":visible")&&(b.verbose("Removing prompt for field",e),d.transition&&F.fn.transition!==q&&s.transition("is supported")?n.transition(d.transition+" out",d.duration,function(){n.remove()}):n.fadeOut(d.duration,function(){n.remove()}))}},set:{success:function(){s.removeClass(g.error).addClass(g.success)},defaults:function(){n.each(function(){var e=F(this),t=0<e.filter(f.checkbox).length?e.is(":checked"):e.val();e.data(u.defaultValue,t)})},error:function(){s.removeClass(g.success).addClass(g.error)},value:function(e,t){var n={};return n[e]=t,b.set.values.call(h,n)},values:function(e){F.isEmptyObject(e)||F.each(e,function(e,t){var n,i=b.get.field(e),o=i.parent(),r=F.isArray(t),s=o.is(f.uiCheckbox),a=o.is(f.uiDropdown),c=i.is(f.radio)&&s;0<i.length&&(r&&s?(b.verbose("Selecting multiple",t,i),o.checkbox("uncheck"),F.each(t,function(e,t){n=i.filter('[value="'+t+'"]'),o=n.parent(),0<n.length&&o.checkbox("check")})):c?(b.verbose("Selecting radio value",t,i),i.filter('[value="'+t+'"]').parent(f.uiCheckbox).checkbox("check")):s?(b.verbose("Setting checkbox value",t,o),!0===t?o.checkbox("check"):o.checkbox("uncheck")):a?(b.verbose("Setting dropdown value",t,o),o.dropdown("set selected",t)):(b.verbose("Setting field value",t,i),i.val(t)))})}},validate:{form:function(e,t){var n=b.get.values();if(y)return!1;if(v=[],b.determine.isValid()){if(b.debug("Form has no validation errors, submitting"),b.set.success(),!0!==t)return d.onSuccess.call(h,e,n)}else if(b.debug("Form has errors"),b.set.error(),d.inline||b.add.errors(v),s.data("moduleApi")!==q&&e.stopImmediatePropagation(),!0!==t)return d.onFailure.call(h,v,n)},field:function(n,e,t){t=t===q||t,"string"==typeof n&&(b.verbose("Validating field",n),n=l[e=n]);var i=n.identifier||e,o=b.get.field(i),r=!!n.depends&&b.get.field(n.depends),s=!0,a=[];return n.identifier||(b.debug("Using field name as identifier",i),n.identifier=i),o.prop("disabled")?(b.debug("Field is disabled. Skipping",i),s=!0):n.optional&&b.is.blank(o)?(b.debug("Field is optional and blank. Skipping",i),s=!0):n.depends&&b.is.empty(r)?(b.debug("Field depends on another value that is not present or empty. Skipping",r),s=!0):n.rules!==q&&F.each(n.rules,function(e,t){b.has.field(i)&&!b.validate.rule(n,t)&&(b.debug("Field is invalid",i,t.type),a.push(b.get.prompt(t,n)),s=!1)}),s?(t&&(b.remove.prompt(i,a),d.onValid.call(o)),!0):(t&&(v=v.concat(a),b.add.prompt(i,a),d.onInvalid.call(o,a)),!1)},rule:function(e,t){var n=b.get.field(e.identifier),i=(t.type,n.val()),o=b.get.ancillaryValue(t),r=b.get.ruleName(t),s=d.rules[r];if(F.isFunction(s))return i=i===q||""===i||null===i?"":F.trim(i+""),s.call(n,i,o);b.error(a.noRule,r)}},setting:function(e,t){if(F.isPlainObject(e))F.extend(!0,d,e);else{if(t===q)return d[e];d[e]=t}},internal:function(e,t){if(F.isPlainObject(e))F.extend(!0,b,e);else{if(t===q)return b[e];b[e]=t}},debug:function(){!d.silent&&d.debug&&(d.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,d.name+":"),b.debug.apply(console,arguments)))},verbose:function(){!d.silent&&d.verbose&&d.debug&&(d.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),b.verbose.apply(console,arguments)))},error:function(){d.silent||(b.error=Function.prototype.bind.call(console.error,console,d.name+":"),b.error.apply(console,arguments))},performance:{log:function(e){var t,n;d.performance&&(n=(t=(new Date).getTime())-(R||t),R=t,S.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:h,"Execution Time":n})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var e=d.name+":",n=0;R=!1,clearTimeout(b.performance.timer),F.each(S,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",w&&(e+=" '"+w+"'"),1<C.length&&(e+=" ("+C.length+")"),(console.group!==q||console.table!==q)&&0<S.length&&(console.groupCollapsed(e),console.table?console.table(S):F.each(S,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),S=[]}},invoke:function(i,e,t){var o,r,n,s=m;return e=e||A,t=h||t,"string"==typeof i&&s!==q&&(i=i.split(/[\. ]/),o=i.length-1,F.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(F.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==q)return r=s[n],!1;if(!F.isPlainObject(s[t])||e==o)return s[t]!==q&&(r=s[t]),!1;s=s[t]}})),F.isFunction(r)?n=r.apply(t,e):r!==q&&(n=r),F.isArray(k)?k.push(n):k!==q?k=[k,n]:n!==q&&(k=n),r}}).initialize()}),k!==q?k:this},F.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{htmlID:/^[a-zA-Z][\w:.-]*$/g,bracket:/\[(.*)\]/i,decimal:/^\d+\.?\d*$/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} must contain "{ruleValue}"',containExactly:'{name} must contain exactly "{ruleValue}"',doesntContain:'{name} cannot contain  "{ruleValue}"',doesntContainExactly:'{name} cannot contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(e){var n='<ul class="list">';return F.each(e,function(e,t){n+="<li>"+t+"</li>"}),F(n+="</ul>")},prompt:function(e){return F("<div/>").addClass("ui basic red pointing prompt label").html(e[0])}},rules:{empty:function(e){return!(e===q||""===e||F.isArray(e)&&0===e.length)},checked:function(){return 0<F(this).filter(":checked").length},email:function(e){return F.fn.form.settings.regExp.email.test(e)},url:function(e){return F.fn.form.settings.regExp.url.test(e)},regExp:function(e,t){if(t instanceof RegExp)return e.match(t);var n,i=t.match(F.fn.form.settings.regExp.flags);return i&&(t=2<=i.length?i[1]:t,n=3<=i.length?i[2]:""),e.match(new RegExp(t,n))},integer:function(e,t){var n,i,o,r=F.fn.form.settings.regExp.integer;return t&&-1===["",".."].indexOf(t)&&(-1==t.indexOf("..")?r.test(t)&&(n=i=t-0):(o=t.split("..",2),r.test(o[0])&&(n=o[0]-0),r.test(o[1])&&(i=o[1]-0))),r.test(e)&&(n===q||n<=e)&&(i===q||e<=i)},decimal:function(e){return F.fn.form.settings.regExp.decimal.test(e)},number:function(e){return F.fn.form.settings.regExp.number.test(e)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,(e="string"==typeof e?e.toLowerCase():e)==t},isExactly:function(e,t){return e==t},not:function(e,t){return(e="string"==typeof e?e.toLowerCase():e)!=(t="string"==typeof t?t.toLowerCase():t)},notExactly:function(e,t){return e!=t},contains:function(e,t){return t=t.replace(F.fn.form.settings.regExp.escape,"\\$&"),-1!==e.search(new RegExp(t,"i"))},containsExactly:function(e,t){return t=t.replace(F.fn.form.settings.regExp.escape,"\\$&"),-1!==e.search(new RegExp(t))},doesntContain:function(e,t){return t=t.replace(F.fn.form.settings.regExp.escape,"\\$&"),-1===e.search(new RegExp(t,"i"))},doesntContainExactly:function(e,t){return t=t.replace(F.fn.form.settings.regExp.escape,"\\$&"),-1===e.search(new RegExp(t))},minLength:function(e,t){return e!==q&&e.length>=t},length:function(e,t){return e!==q&&e.length>=t},exactLength:function(e,t){return e!==q&&e.length==t},maxLength:function(e,t){return e!==q&&e.length<=t},match:function(e,t){var n;F(this);return 0<F('[data-validate="'+t+'"]').length?n=F('[data-validate="'+t+'"]').val():0<F("#"+t).length?n=F("#"+t).val():0<F('[name="'+t+'"]').length?n=F('[name="'+t+'"]').val():0<F('[name="'+t+'[]"]').length&&(n=F('[name="'+t+'[]"]')),n!==q&&e.toString()==n.toString()},different:function(e,t){var n;F(this);return 0<F('[data-validate="'+t+'"]').length?n=F('[data-validate="'+t+'"]').val():0<F("#"+t).length?n=F("#"+t).val():0<F('[name="'+t+'"]').length?n=F('[name="'+t+'"]').val():0<F('[name="'+t+'[]"]').length&&(n=F('[name="'+t+'[]"]')),n!==q&&e.toString()!==n.toString()},creditCard:function(n,e){var t,i,o={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},r={},s=!1,a="string"==typeof e&&e.split(",");if("string"==typeof n&&0!==n.length){if(n=n.replace(/[\-]/g,""),a&&(F.each(a,function(e,t){(i=o[t])&&(r={length:-1!==F.inArray(n.length,i.length),pattern:-1!==n.search(i.pattern)}).length&&r.pattern&&(s=!0)}),!s))return!1;if((t={number:-1!==F.inArray(n.length,o.unionPay.length),pattern:-1!==n.search(o.unionPay.pattern)}).number&&t.pattern)return!0;for(var c=n.length,l=0,u=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],d=0;c--;)d+=u[l][parseInt(n.charAt(c),10)],l^=1;return d%10==0&&0<d}},minCount:function(e,t){return 0==t||(1==t?""!==e:e.split(",").length>=t)},exactCount:function(e,t){return 0==t?""===e:1==t?""!==e&&-1===e.search(","):e.split(",").length==t},maxCount:function(e,t){return 0!=t&&(1==t?-1===e.search(","):e.split(",").length<=t)}}}}(jQuery,window,document),function(w,R,e,S){"use strict";R=void 0!==R&&R.Math==Math?R:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),w.fn.accordion=function(r){var h,s=w(this),v=(new Date).getTime(),y=[],x=r,k="string"==typeof x,C=[].slice.call(arguments,1);R.requestAnimationFrame||R.mozRequestAnimationFrame||R.webkitRequestAnimationFrame||R.msRequestAnimationFrame;return s.each(function(){var e,l,u=w.isPlainObject(r)?w.extend(!0,{},w.fn.accordion.settings,r):w.extend({},w.fn.accordion.settings),d=u.className,t=u.namespace,f=u.selector,a=u.error,n="."+t,i="module-"+t,o=s.selector||"",g=w(this),p=g.find(f.title),m=g.find(f.content),c=this,b=g.data(i);l={initialize:function(){l.debug("Initializing",g),l.bind.events(),u.observeChanges&&l.observeChanges(),l.instantiate()},instantiate:function(){b=l,g.data(i,l)},destroy:function(){l.debug("Destroying previous instance",g),g.off(n).removeData(i)},refresh:function(){p=g.find(f.title),m=g.find(f.content)},observeChanges:function(){"MutationObserver"in R&&((e=new MutationObserver(function(e){l.debug("DOM tree modified, updating selector cache"),l.refresh()})).observe(c,{childList:!0,subtree:!0}),l.debug("Setting up mutation observer",e))},bind:{events:function(){l.debug("Binding delegated events"),g.on(u.on+n,f.trigger,l.event.click)}},event:{click:function(){l.toggle.call(this)}},toggle:function(e){var t=e!==S?"number"==typeof e?p.eq(e):w(e).closest(f.title):w(this).closest(f.title),n=t.next(m),i=n.hasClass(d.animating),o=n.hasClass(d.active),r=o&&!i,s=!o&&i;l.debug("Toggling visibility of content",t),r||s?u.collapsible?l.close.call(t):l.debug("Cannot close accordion content collapsing is disabled"):l.open.call(t)},open:function(e){var t=e!==S?"number"==typeof e?p.eq(e):w(e).closest(f.title):w(this).closest(f.title),n=t.next(m),i=n.hasClass(d.animating);n.hasClass(d.active)||i?l.debug("Accordion already open, skipping",n):(l.debug("Opening accordion content",t),u.onOpening.call(n),u.onChanging.call(n),u.exclusive&&l.closeOthers.call(t),t.addClass(d.active),n.stop(!0,!0).addClass(d.animating),u.animateChildren&&(w.fn.transition!==S&&g.transition("is supported")?n.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:u.debug,verbose:u.verbose,duration:u.duration}):n.children().stop(!0,!0).animate({opacity:1},u.duration,l.resetOpacity)),n.slideDown(u.duration,u.easing,function(){n.removeClass(d.animating).addClass(d.active),l.reset.display.call(this),u.onOpen.call(this),u.onChange.call(this)}))},close:function(e){var t=e!==S?"number"==typeof e?p.eq(e):w(e).closest(f.title):w(this).closest(f.title),n=t.next(m),i=n.hasClass(d.animating),o=n.hasClass(d.active);!o&&!(!o&&i)||o&&i||(l.debug("Closing accordion content",n),u.onClosing.call(n),u.onChanging.call(n),t.removeClass(d.active),n.stop(!0,!0).addClass(d.animating),u.animateChildren&&(w.fn.transition!==S&&g.transition("is supported")?n.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:u.debug,verbose:u.verbose,duration:u.duration}):n.children().stop(!0,!0).animate({opacity:0},u.duration,l.resetOpacity)),n.slideUp(u.duration,u.easing,function(){n.removeClass(d.animating).removeClass(d.active),l.reset.display.call(this),u.onClose.call(this),u.onChange.call(this)}))},closeOthers:function(e){var t,n,i,o=e!==S?p.eq(e):w(this).closest(f.title),r=o.parents(f.content).prev(f.title),s=o.closest(f.accordion),a=f.title+"."+d.active+":visible",c=f.content+"."+d.active+":visible";i=u.closeNested?(t=s.find(a).not(r)).next(m):(t=s.find(a).not(r),n=s.find(c).find(a).not(r),(t=t.not(n)).next(m)),0<t.length&&(l.debug("Exclusive enabled, closing other content",t),t.removeClass(d.active),i.removeClass(d.animating).stop(!0,!0),u.animateChildren&&(w.fn.transition!==S&&g.transition("is supported")?i.children().transition({animation:"fade out",useFailSafe:!0,debug:u.debug,verbose:u.verbose,duration:u.duration}):i.children().stop(!0,!0).animate({opacity:0},u.duration,l.resetOpacity)),i.slideUp(u.duration,u.easing,function(){w(this).removeClass(d.active),l.reset.display.call(this)}))},reset:{display:function(){l.verbose("Removing inline display from element",this),w(this).css("display",""),""===w(this).attr("style")&&w(this).attr("style","").removeAttr("style")},opacity:function(){l.verbose("Removing inline opacity from element",this),w(this).css("opacity",""),""===w(this).attr("style")&&w(this).attr("style","").removeAttr("style")}},setting:function(e,t){if(l.debug("Changing setting",e,t),w.isPlainObject(e))w.extend(!0,u,e);else{if(t===S)return u[e];w.isPlainObject(u[e])?w.extend(!0,u[e],t):u[e]=t}},internal:function(e,t){if(l.debug("Changing internal",e,t),t===S)return l[e];w.isPlainObject(e)?w.extend(!0,l,e):l[e]=t},debug:function(){!u.silent&&u.debug&&(u.performance?l.performance.log(arguments):(l.debug=Function.prototype.bind.call(console.info,console,u.name+":"),l.debug.apply(console,arguments)))},verbose:function(){!u.silent&&u.verbose&&u.debug&&(u.performance?l.performance.log(arguments):(l.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),l.verbose.apply(console,arguments)))},error:function(){u.silent||(l.error=Function.prototype.bind.call(console.error,console,u.name+":"),l.error.apply(console,arguments))},performance:{log:function(e){var t,n;u.performance&&(n=(t=(new Date).getTime())-(v||t),v=t,y.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:c,"Execution Time":n})),clearTimeout(l.performance.timer),l.performance.timer=setTimeout(l.performance.display,500)},display:function(){var e=u.name+":",n=0;v=!1,clearTimeout(l.performance.timer),w.each(y,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",o&&(e+=" '"+o+"'"),(console.group!==S||console.table!==S)&&0<y.length&&(console.groupCollapsed(e),console.table?console.table(y):w.each(y,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),y=[]}},invoke:function(i,e,t){var o,r,n,s=b;return e=e||C,t=c||t,"string"==typeof i&&s!==S&&(i=i.split(/[\. ]/),o=i.length-1,w.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(w.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==S)return r=s[n],!1;if(!w.isPlainObject(s[t])||e==o)return s[t]!==S?r=s[t]:l.error(a.method,i),!1;s=s[t]}})),w.isFunction(r)?n=r.apply(t,e):r!==S&&(n=r),w.isArray(h)?h.push(n):h!==S?h=[h,n]:n!==S&&(h=n),r}},k?(b===S&&l.initialize(),l.invoke(x)):(b!==S&&b.invoke("destroy"),l.initialize())}),h!==S?h:this},w.fn.accordion.settings={name:"Accordion",namespace:"accordion",silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onClosing:function(){},onChanging:function(){},onOpen:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},w.extend(w.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(jQuery,window,document),function(S,T,P,E){"use strict";T=void 0!==T&&T.Math==Math?T:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),S.fn.checkbox=function(h){var v,e=S(this),y=e.selector||"",x=(new Date).getTime(),k=[],C=h,w="string"==typeof C,R=[].slice.call(arguments,1);return e.each(function(){var e,a,i=S.extend(!0,{},S.fn.checkbox.settings,h),t=i.className,n=i.namespace,o=i.selector,c=i.error,r="."+n,s="module-"+n,l=S(this),u=S(this).children(o.label),d=S(this).children(o.input),f=d[0],g=!1,p=!1,m=l.data(s),b=this;a={initialize:function(){a.verbose("Initializing checkbox",i),a.create.label(),a.bind.events(),a.set.tabbable(),a.hide.input(),a.observeChanges(),a.instantiate(),a.setup()},instantiate:function(){a.verbose("Storing instance of module",a),m=a,l.data(s,a)},destroy:function(){a.verbose("Destroying module"),a.unbind.events(),a.show.input(),l.removeData(s)},fix:{reference:function(){l.is(o.input)&&(a.debug("Behavior called on <input> adjusting invoked element"),l=l.closest(o.checkbox),a.refresh())}},setup:function(){a.set.initialLoad(),a.is.indeterminate()?(a.debug("Initial value is indeterminate"),a.indeterminate()):a.is.checked()?(a.debug("Initial value is checked"),a.check()):(a.debug("Initial value is unchecked"),a.uncheck()),a.remove.initialLoad()},refresh:function(){u=l.children(o.label),d=l.children(o.input),f=d[0]},hide:{input:function(){a.verbose("Modifying <input> z-index to be unselectable"),d.addClass(t.hidden)}},show:{input:function(){a.verbose("Modifying <input> z-index to be selectable"),d.removeClass(t.hidden)}},observeChanges:function(){"MutationObserver"in T&&((e=new MutationObserver(function(e){a.debug("DOM tree modified, updating selector cache"),a.refresh()})).observe(b,{childList:!0,subtree:!0}),a.debug("Setting up mutation observer",e))},attachEvents:function(e,t){var n=S(e);t=S.isFunction(a[t])?a[t]:a.toggle,0<n.length?(a.debug("Attaching checkbox events to element",e,t),n.on("click"+r,t)):a.error(c.notFound)},event:{click:function(e){var t=S(e.target);t.is(o.input)?a.verbose("Using default check action on initialized checkbox"):t.is(o.link)?a.debug("Clicking link inside checkbox, skipping toggle"):(a.toggle(),d.focus(),e.preventDefault())},keydown:function(e){var t=e.which,n=13,i=32;p=t==27?(a.verbose("Escape key pressed blurring field"),d.blur(),!0):!(e.ctrlKey||t!=i&&t!=n)&&(a.verbose("Enter/space key pressed, toggling checkbox"),a.toggle(),!0)},keyup:function(e){p&&e.preventDefault()}},check:function(){a.should.allowCheck()&&(a.debug("Checking checkbox",d),a.set.checked(),a.should.ignoreCallbacks()||(i.onChecked.call(f),i.onChange.call(f)))},uncheck:function(){a.should.allowUncheck()&&(a.debug("Unchecking checkbox"),a.set.unchecked(),a.should.ignoreCallbacks()||(i.onUnchecked.call(f),i.onChange.call(f)))},indeterminate:function(){a.should.allowIndeterminate()?a.debug("Checkbox is already indeterminate"):(a.debug("Making checkbox indeterminate"),a.set.indeterminate(),a.should.ignoreCallbacks()||(i.onIndeterminate.call(f),i.onChange.call(f)))},determinate:function(){a.should.allowDeterminate()?a.debug("Checkbox is already determinate"):(a.debug("Making checkbox determinate"),a.set.determinate(),a.should.ignoreCallbacks()||(i.onDeterminate.call(f),i.onChange.call(f)))},enable:function(){a.is.enabled()?a.debug("Checkbox is already enabled"):(a.debug("Enabling checkbox"),a.set.enabled(),i.onEnable.call(f),i.onEnabled.call(f))},disable:function(){a.is.disabled()?a.debug("Checkbox is already disabled"):(a.debug("Disabling checkbox"),a.set.disabled(),i.onDisable.call(f),i.onDisabled.call(f))},get:{radios:function(){var e=a.get.name();return S('input[name="'+e+'"]').closest(o.checkbox)},otherRadios:function(){return a.get.radios().not(l)},name:function(){return d.attr("name")}},is:{initialLoad:function(){return g},radio:function(){return d.hasClass(t.radio)||"radio"==d.attr("type")},indeterminate:function(){return d.prop("indeterminate")!==E&&d.prop("indeterminate")},checked:function(){return d.prop("checked")!==E&&d.prop("checked")},disabled:function(){return d.prop("disabled")!==E&&d.prop("disabled")},enabled:function(){return!a.is.disabled()},determinate:function(){return!a.is.indeterminate()},unchecked:function(){return!a.is.checked()}},should:{allowCheck:function(){return a.is.determinate()&&a.is.checked()&&!a.should.forceCallbacks()?(a.debug("Should not allow check, checkbox is already checked"),!1):!1!==i.beforeChecked.apply(f)||(a.debug("Should not allow check, beforeChecked cancelled"),!1)},allowUncheck:function(){return a.is.determinate()&&a.is.unchecked()&&!a.should.forceCallbacks()?(a.debug("Should not allow uncheck, checkbox is already unchecked"),!1):!1!==i.beforeUnchecked.apply(f)||(a.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1)},allowIndeterminate:function(){return a.is.indeterminate()&&!a.should.forceCallbacks()?(a.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):!1!==i.beforeIndeterminate.apply(f)||(a.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1)},allowDeterminate:function(){return a.is.determinate()&&!a.should.forceCallbacks()?(a.debug("Should not allow determinate, checkbox is already determinate"),!1):!1!==i.beforeDeterminate.apply(f)||(a.debug("Should not allow determinate, beforeDeterminate cancelled"),!1)},forceCallbacks:function(){return a.is.initialLoad()&&i.fireOnInit},ignoreCallbacks:function(){return g&&!i.fireOnInit}},can:{change:function(){return!(l.hasClass(t.disabled)||l.hasClass(t.readOnly)||d.prop("disabled")||d.prop("readonly"))},uncheck:function(){return"boolean"==typeof i.uncheckable?i.uncheckable:!a.is.radio()}},set:{initialLoad:function(){g=!0},checked:function(){a.verbose("Setting class to checked"),l.removeClass(t.indeterminate).addClass(t.checked),a.is.radio()&&a.uncheckOthers(),a.is.indeterminate()||!a.is.checked()?(a.verbose("Setting state to checked",f),d.prop("indeterminate",!1).prop("checked",!0),a.trigger.change()):a.debug("Input is already checked, skipping input property change")},unchecked:function(){a.verbose("Removing checked class"),l.removeClass(t.indeterminate).removeClass(t.checked),a.is.indeterminate()||!a.is.unchecked()?(a.debug("Setting state to unchecked"),d.prop("indeterminate",!1).prop("checked",!1),a.trigger.change()):a.debug("Input is already unchecked")},indeterminate:function(){a.verbose("Setting class to indeterminate"),l.addClass(t.indeterminate),a.is.indeterminate()?a.debug("Input is already indeterminate, skipping input property change"):(a.debug("Setting state to indeterminate"),d.prop("indeterminate",!0),a.trigger.change())},determinate:function(){a.verbose("Removing indeterminate class"),l.removeClass(t.indeterminate),a.is.determinate()?a.debug("Input is already determinate, skipping input property change"):(a.debug("Setting state to determinate"),d.prop("indeterminate",!1))},disabled:function(){a.verbose("Setting class to disabled"),l.addClass(t.disabled),a.is.disabled()?a.debug("Input is already disabled, skipping input property change"):(a.debug("Setting state to disabled"),d.prop("disabled","disabled"),a.trigger.change())},enabled:function(){a.verbose("Removing disabled class"),l.removeClass(t.disabled),a.is.enabled()?a.debug("Input is already enabled, skipping input property change"):(a.debug("Setting state to enabled"),d.prop("disabled",!1),a.trigger.change())},tabbable:function(){a.verbose("Adding tabindex to checkbox"),d.attr("tabindex")===E&&d.attr("tabindex",0)}},remove:{initialLoad:function(){g=!1}},trigger:{change:function(){var e=P.createEvent("HTMLEvents"),t=d[0];t&&(a.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},create:{label:function(){0<d.prevAll(o.label).length?(d.prev(o.label).detach().insertAfter(d),a.debug("Moving existing label",u)):a.has.label()||(u=S("<label>").insertAfter(d),a.debug("Creating label",u))}},has:{label:function(){return 0<u.length}},bind:{events:function(){a.verbose("Attaching checkbox events"),l.on("click"+r,a.event.click).on("keydown"+r,o.input,a.event.keydown).on("keyup"+r,o.input,a.event.keyup)}},unbind:{events:function(){a.debug("Removing events"),l.off(r)}},uncheckOthers:function(){var e=a.get.otherRadios();a.debug("Unchecking other radios",e),e.removeClass(t.checked)},toggle:function(){a.can.change()?a.is.indeterminate()||a.is.unchecked()?(a.debug("Currently unchecked"),a.check()):a.is.checked()&&a.can.uncheck()&&(a.debug("Currently checked"),a.uncheck()):a.is.radio()||a.debug("Checkbox is read-only or disabled, ignoring toggle")},setting:function(e,t){if(a.debug("Changing setting",e,t),S.isPlainObject(e))S.extend(!0,i,e);else{if(t===E)return i[e];S.isPlainObject(i[e])?S.extend(!0,i[e],t):i[e]=t}},internal:function(e,t){if(S.isPlainObject(e))S.extend(!0,a,e);else{if(t===E)return a[e];a[e]=t}},debug:function(){!i.silent&&i.debug&&(i.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,i.name+":"),a.debug.apply(console,arguments)))},verbose:function(){!i.silent&&i.verbose&&i.debug&&(i.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,i.name+":"),a.verbose.apply(console,arguments)))},error:function(){i.silent||(a.error=Function.prototype.bind.call(console.error,console,i.name+":"),a.error.apply(console,arguments))},performance:{log:function(e){var t,n;i.performance&&(n=(t=(new Date).getTime())-(x||t),x=t,k.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:b,"Execution Time":n})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,500)},display:function(){var e=i.name+":",n=0;x=!1,clearTimeout(a.performance.timer),S.each(k,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",y&&(e+=" '"+y+"'"),(console.group!==E||console.table!==E)&&0<k.length&&(console.groupCollapsed(e),console.table?console.table(k):S.each(k,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),k=[]}},invoke:function(i,e,t){var o,r,n,s=m;return e=e||R,t=b||t,"string"==typeof i&&s!==E&&(i=i.split(/[\. ]/),o=i.length-1,S.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(S.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==E)return r=s[n],!1;if(!S.isPlainObject(s[t])||e==o)return s[t]!==E?r=s[t]:a.error(c.method,i),!1;s=s[t]}})),S.isFunction(r)?n=r.apply(t,e):r!==E&&(n=r),S.isArray(v)?v.push(n):v!==E?v=[v,n]:n!==E&&(v=n),r}},w?(m===E&&a.initialize(),a.invoke(C)):(m!==E&&m.invoke("destroy"),a.initialize())}),v!==E?v:this},S.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",silent:!1,debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(R,e,S,T){"use strict";void 0!==(e=void 0!==e&&e.Math==Math?e:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")())&&e.Math==Math||("undefined"!=typeof self&&self.Math==Math?self:Function("return this")());R.fn.progress=function(b){var h,e=R(this),v=e.selector||"",y=(new Date).getTime(),x=[],k=b,C="string"==typeof k,w=[].slice.call(arguments,1);return e.each(function(){var a,i=R.isPlainObject(b)?R.extend(!0,{},R.fn.progress.settings,b):R.extend({},R.fn.progress.settings),t=i.className,n=i.metadata,e=i.namespace,o=i.selector,c=i.error,r="."+e,s="module-"+e,l=R(this),u=R(this).find(o.bar),d=R(this).find(o.progress),f=R(this).find(o.label),g=this,p=l.data(s),m=!1;a={initialize:function(){a.debug("Initializing progress bar",i),a.set.duration(),a.set.transitionEvent(),a.read.metadata(),a.read.settings(),a.instantiate()},instantiate:function(){a.verbose("Storing instance of progress",a),p=a,l.data(s,a)},destroy:function(){a.verbose("Destroying previous progress for",l),clearInterval(p.interval),a.remove.state(),l.removeData(s),p=T},reset:function(){a.remove.nextValue(),a.update.progress(0)},complete:function(){(a.percent===T||a.percent<100)&&(a.remove.progressPoll(),a.set.percent(100))},read:{metadata:function(){var e={percent:l.data(n.percent),total:l.data(n.total),value:l.data(n.value)};e.percent&&(a.debug("Current percent value set from metadata",e.percent),a.set.percent(e.percent)),e.total&&(a.debug("Total value set from metadata",e.total),a.set.total(e.total)),e.value&&(a.debug("Current value set from metadata",e.value),a.set.value(e.value),a.set.progress(e.value))},settings:function(){!1!==i.total&&(a.debug("Current total set in settings",i.total),a.set.total(i.total)),!1!==i.value&&(a.debug("Current value set in settings",i.value),a.set.value(i.value),a.set.progress(a.value)),!1!==i.percent&&(a.debug("Current percent set in settings",i.percent),a.set.percent(i.percent))}},bind:{transitionEnd:function(t){var e=a.get.transitionEnd();u.one(e+r,function(e){clearTimeout(a.failSafeTimer),t.call(this,e)}),a.failSafeTimer=setTimeout(function(){u.triggerHandler(e)},i.duration+i.failSafeDelay),a.verbose("Adding fail safe timer",a.timer)}},increment:function(e){var t,n;a.has.total()?n=(t=a.get.value())+(e=e||1):(n=(t=a.get.percent())+(e=e||a.get.randomValue()),100,a.debug("Incrementing percentage by",t,n)),n=a.get.normalizedValue(n),a.set.progress(n)},decrement:function(e){var t,n;a.get.total()?(n=(t=a.get.value())-(e=e||1),a.debug("Decrementing value by",e,t)):(n=(t=a.get.percent())-(e=e||a.get.randomValue()),a.debug("Decrementing percentage by",e,t)),n=a.get.normalizedValue(n),a.set.progress(n)},has:{progressPoll:function(){return a.progressPoll},total:function(){return!1!==a.get.total()}},get:{text:function(e){var t=a.value||0,n=a.total||0,i=m?a.get.displayPercent():a.percent||0,o=0<a.total?n-t:100-i;return e=(e=e||"").replace("{value}",t).replace("{total}",n).replace("{left}",o).replace("{percent}",i),a.verbose("Adding variables to progress bar text",e),e},normalizedValue:function(e){if(e<0)return a.debug("Value cannot decrement below 0"),0;if(a.has.total()){if(e>a.total)return a.debug("Value cannot increment above total",a.total),a.total}else if(100<e)return a.debug("Value cannot increment above 100 percent"),100;return e},updateInterval:function(){return"auto"==i.updateInterval?i.duration:i.updateInterval},randomValue:function(){return a.debug("Generating random increment percentage"),Math.floor(Math.random()*i.random.max+i.random.min)},numericValue:function(e){return"string"==typeof e?""!==e.replace(/[^\d.]/g,"")&&+e.replace(/[^\d.]/g,""):e},transitionEnd:function(){var e,t=S.createElement("element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(t.style[e]!==T)return n[e]},displayPercent:function(){var e=u.width(),t=l.width(),n=parseInt(u.css("min-width"),10)<e?e/t*100:a.percent;return 0<i.precision?Math.round(n*(10*i.precision))/(10*i.precision):Math.round(n)},percent:function(){return a.percent||0},value:function(){return a.nextValue||a.value||0},total:function(){return a.total||!1}},create:{progressPoll:function(){a.progressPoll=setTimeout(function(){a.update.toNextValue(),a.remove.progressPoll()},a.get.updateInterval())}},is:{complete:function(){return a.is.success()||a.is.warning()||a.is.error()},success:function(){return l.hasClass(t.success)},warning:function(){return l.hasClass(t.warning)},error:function(){return l.hasClass(t.error)},active:function(){return l.hasClass(t.active)},visible:function(){return l.is(":visible")}},remove:{progressPoll:function(){a.verbose("Removing progress poll timer"),a.progressPoll&&(clearTimeout(a.progressPoll),delete a.progressPoll)},nextValue:function(){a.verbose("Removing progress value stored for next update"),delete a.nextValue},state:function(){a.verbose("Removing stored state"),delete a.total,delete a.percent,delete a.value},active:function(){a.verbose("Removing active state"),l.removeClass(t.active)},success:function(){a.verbose("Removing success state"),l.removeClass(t.success)},warning:function(){a.verbose("Removing warning state"),l.removeClass(t.warning)},error:function(){a.verbose("Removing error state"),l.removeClass(t.error)}},set:{barWidth:function(e){100<e?a.error(c.tooHigh,e):e<0?a.error(c.tooLow,e):(u.css("width",e+"%"),l.attr("data-percent",parseInt(e,10)))},duration:function(e){e="number"==typeof(e=e||i.duration)?e+"ms":e,a.verbose("Setting progress bar transition duration",e),u.css({"transition-duration":e})},percent:function(e){e="string"==typeof e?+e.replace("%",""):e,e=0<i.precision?Math.round(e*(10*i.precision))/(10*i.precision):Math.round(e),a.percent=e,a.has.total()||(a.value=0<i.precision?Math.round(e/100*a.total*(10*i.precision))/(10*i.precision):Math.round(e/100*a.total*10)/10,i.limitValues&&(a.value=100<a.value?100:a.value<0?0:a.value)),a.set.barWidth(e),a.set.labelInterval(),a.set.labels(),i.onChange.call(g,e,a.value,a.total)},labelInterval:function(){clearInterval(a.interval),a.bind.transitionEnd(function(){a.verbose("Bar finished animating, removing continuous label updates"),clearInterval(a.interval),m=!1,a.set.labels()}),m=!0,a.interval=setInterval(function(){R.contains(S.documentElement,g)||(clearInterval(a.interval),m=!1),a.set.labels()},i.framerate)},labels:function(){a.verbose("Setting both bar progress and outer label text"),a.set.barLabel(),a.set.state()},label:function(e){(e=e||"")&&(e=a.get.text(e),a.verbose("Setting label to text",e),f.text(e))},state:function(e){100===(e=e!==T?e:a.percent)?i.autoSuccess&&!(a.is.warning()||a.is.error()||a.is.success())?(a.set.success(),a.debug("Automatically triggering success at 100%")):(a.verbose("Reached 100% removing active state"),a.remove.active(),a.remove.progressPoll()):0<e?(a.verbose("Adjusting active progress bar label",e),a.set.active()):(a.remove.active(),a.set.label(i.text.active))},barLabel:function(e){e!==T?d.text(a.get.text(e)):"ratio"==i.label&&a.total?(a.verbose("Adding ratio to bar label"),d.text(a.get.text(i.text.ratio))):"percent"==i.label&&(a.verbose("Adding percentage to bar label"),d.text(a.get.text(i.text.percent)))},active:function(e){e=e||i.text.active,a.debug("Setting active state"),i.showActivity&&!a.is.active()&&l.addClass(t.active),a.remove.warning(),a.remove.error(),a.remove.success(),(e=i.onLabelUpdate("active",e,a.value,a.total))&&a.set.label(e),a.bind.transitionEnd(function(){i.onActive.call(g,a.value,a.total)})},success:function(e){e=e||i.text.success||i.text.active,a.debug("Setting success state"),l.addClass(t.success),a.remove.active(),a.remove.warning(),a.remove.error(),a.complete(),e=i.text.success?i.onLabelUpdate("success",e,a.value,a.total):i.onLabelUpdate("active",e,a.value,a.total),a.set.label(e),a.bind.transitionEnd(function(){i.onSuccess.call(g,a.total)})},warning:function(e){e=e||i.text.warning,a.debug("Setting warning state"),l.addClass(t.warning),a.remove.active(),a.remove.success(),a.remove.error(),a.complete(),(e=i.onLabelUpdate("warning",e,a.value,a.total))&&a.set.label(e),a.bind.transitionEnd(function(){i.onWarning.call(g,a.value,a.total)})},error:function(e){e=e||i.text.error,a.debug("Setting error state"),l.addClass(t.error),a.remove.active(),a.remove.success(),a.remove.warning(),a.complete(),(e=i.onLabelUpdate("error",e,a.value,a.total))&&a.set.label(e),a.bind.transitionEnd(function(){i.onError.call(g,a.value,a.total)})},transitionEvent:function(){a.get.transitionEnd()},total:function(e){a.total=e},value:function(e){a.value=e},progress:function(e){a.has.progressPoll()?(a.debug("Updated within interval, setting next update to use new value",e),a.set.nextValue(e)):(a.debug("First update in progress update interval, immediately updating",e),a.update.progress(e),a.create.progressPoll())},nextValue:function(e){a.nextValue=e}},update:{toNextValue:function(){var e=a.nextValue;e&&(a.debug("Update interval complete using last updated value",e),a.update.progress(e),a.remove.nextValue())},progress:function(e){var t;!1===(e=a.get.numericValue(e))&&a.error(c.nonNumeric,e),e=a.get.normalizedValue(e),a.has.total()?(a.set.value(e),t=e/a.total*100,a.debug("Calculating percent complete from total",t)):(t=e,a.debug("Setting value to exact percentage value",t)),a.set.percent(t)}},setting:function(e,t){if(a.debug("Changing setting",e,t),R.isPlainObject(e))R.extend(!0,i,e);else{if(t===T)return i[e];R.isPlainObject(i[e])?R.extend(!0,i[e],t):i[e]=t}},internal:function(e,t){if(R.isPlainObject(e))R.extend(!0,a,e);else{if(t===T)return a[e];a[e]=t}},debug:function(){!i.silent&&i.debug&&(i.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,i.name+":"),a.debug.apply(console,arguments)))},verbose:function(){!i.silent&&i.verbose&&i.debug&&(i.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,i.name+":"),a.verbose.apply(console,arguments)))},error:function(){i.silent||(a.error=Function.prototype.bind.call(console.error,console,i.name+":"),a.error.apply(console,arguments))},performance:{log:function(e){var t,n;i.performance&&(n=(t=(new Date).getTime())-(y||t),y=t,x.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:g,"Execution Time":n})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,500)},display:function(){var e=i.name+":",n=0;y=!1,clearTimeout(a.performance.timer),R.each(x,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",v&&(e+=" '"+v+"'"),(console.group!==T||console.table!==T)&&0<x.length&&(console.groupCollapsed(e),console.table?console.table(x):R.each(x,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),x=[]}},invoke:function(i,e,t){var o,r,n,s=p;return e=e||w,t=g||t,"string"==typeof i&&s!==T&&(i=i.split(/[\. ]/),o=i.length-1,R.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(R.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==T)return r=s[n],!1;if(!R.isPlainObject(s[t])||e==o)return s[t]!==T?r=s[t]:a.error(c.method,i),!1;s=s[t]}})),R.isFunction(r)?n=r.apply(t,e):r!==T&&(n=r),R.isArray(h)?h.push(n):h!==T?h=[h,n]:n!==T&&(h=n),r}},C?(p===T&&a.initialize(),a.invoke(k)):(p!==T&&p.invoke("destroy"),a.initialize())}),h!==T?h:this},R.fn.progress.settings={name:"Progress",namespace:"progress",silent:!1,debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,updateInterval:"auto",autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,failSafeDelay:100,onLabelUpdate:function(e,t,n,i){return t},onChange:function(e,t,n){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(A,F,O,q){"use strict";F=void 0!==F&&F.Math==Math?F:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),A.fn.search=function(c){var k,C=A(this),w=C.selector||"",R=(new Date).getTime(),S=[],T=c,P="string"==typeof T,E=[].slice.call(arguments,1);return A(this).each(function(){var f,l=A.isPlainObject(c)?A.extend(!0,{},A.fn.search.settings,c):A.extend({},A.fn.search.settings),g=l.className,u=l.metadata,d=l.regExp,r=l.fields,p=l.selector,m=l.error,e=l.namespace,i="."+e,t=e+"-module",b=A(this),h=b.find(p.prompt),n=b.find(p.searchButton),o=b.find(p.results),s=b.find(p.result),v=(b.find(p.category),this),a=b.data(t),y=!1,x=!1;f={initialize:function(){f.verbose("Initializing module"),f.get.settings(),f.determine.searchFields(),f.bind.events(),f.set.type(),f.create.results(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),a=f,b.data(t,f)},destroy:function(){f.verbose("Destroying instance"),b.off(i).removeData(t)},refresh:function(){f.debug("Refreshing selector cache"),h=b.find(p.prompt),n=b.find(p.searchButton),b.find(p.category),o=b.find(p.results),s=b.find(p.result)},refreshResults:function(){o=b.find(p.results),s=b.find(p.result)},bind:{events:function(){f.verbose("Binding events to search"),l.automatic&&(b.on(f.get.inputEvent()+i,p.prompt,f.event.input),h.attr("autocomplete","off")),b.on("focus"+i,p.prompt,f.event.focus).on("blur"+i,p.prompt,f.event.blur).on("keydown"+i,p.prompt,f.handleKeyboard).on("click"+i,p.searchButton,f.query).on("mousedown"+i,p.results,f.event.result.mousedown).on("mouseup"+i,p.results,f.event.result.mouseup).on("click"+i,p.result,f.event.result.click)}},determine:{searchFields:function(){c&&c.searchFields!==q&&(l.searchFields=c.searchFields)}},event:{input:function(){l.searchDelay?(clearTimeout(f.timer),f.timer=setTimeout(function(){f.is.focused()&&f.query()},l.searchDelay)):f.query()},focus:function(){f.set.focus(),l.searchOnFocus&&f.has.minimumCharacters()&&f.query(function(){f.can.show()&&f.showResults()})},blur:function(e){var t=O.activeElement===this,n=function(){f.cancel.query(),f.remove.focus(),f.timer=setTimeout(f.hideResults,l.hideDelay)};t||(x=!1,f.resultsClicked?(f.debug("Determining if user action caused search to close"),b.one("click.close"+i,p.results,function(e){f.is.inMessage(e)||y?h.focus():(y=!1,f.is.animating()||f.is.hidden()||n())})):(f.debug("Input blurred without user action, closing results"),n()))},result:{mousedown:function(){f.resultsClicked=!0},mouseup:function(){f.resultsClicked=!1},click:function(e){f.debug("Search result selected");var t=A(this),n=t.find(p.title).eq(0),i=t.is("a[href]")?t:t.find("a[href]").eq(0),o=i.attr("href")||!1,r=i.attr("target")||!1,s=(n.html(),0<n.length&&n.text()),a=f.get.results(),c=t.data(u.result)||f.get.result(s,a);if(A.isFunction(l.onSelect)&&!1===l.onSelect.call(v,c,a))return f.debug("Custom onSelect callback cancelled default select action"),void(y=!0);f.hideResults(),s&&f.set.value(s),o&&(f.verbose("Opening search link found in result",i),"_blank"==r||e.ctrlKey?F.open(o):F.location.href=o)}}},handleKeyboard:function(e){var t,n=b.find(p.result),i=b.find(p.category),o=n.filter("."+g.active),r=n.index(o),s=n.length,a=0<o.length,c=e.which,l=13,u=38,d=40;if(c==27&&(f.verbose("Escape key pressed, blurring search field"),f.hideResults(),x=!0),f.is.visible())if(c==l){if(f.verbose("Enter key pressed, selecting active result"),0<n.filter("."+g.active).length)return f.event.result.click.call(n.filter("."+g.active),e),e.preventDefault(),!1}else c==u&&a?(f.verbose("Up key pressed, changing active result"),t=r-1<0?r:r-1,i.removeClass(g.active),n.removeClass(g.active).eq(t).addClass(g.active).closest(i).addClass(g.active),e.preventDefault()):c==d&&(f.verbose("Down key pressed, changing active result"),t=s<=r+1?r:r+1,i.removeClass(g.active),n.removeClass(g.active).eq(t).addClass(g.active).closest(i).addClass(g.active),e.preventDefault());else c==l&&(f.verbose("Enter key pressed, executing query"),f.query(),f.set.buttonPressed(),h.one("keyup",f.remove.buttonFocus))},setup:{api:function(t,n){var e={debug:l.debug,on:!1,cache:l.cache,action:"search",urlData:{query:t},onSuccess:function(e){f.parse.response.call(v,e,t),n()},onFailure:function(){f.displayMessage(m.serverError),n()},onAbort:function(e){},onError:f.error};A.extend(!0,e,l.apiSettings),f.verbose("Setting up API request",e),b.api(e)}},can:{useAPI:function(){return A.fn.api!==q},show:function(){return f.is.focused()&&!f.is.visible()&&!f.is.empty()},transition:function(){return l.transition&&A.fn.transition!==q&&b.transition("is supported")}},is:{animating:function(){return o.hasClass(g.animating)},hidden:function(){return o.hasClass(g.hidden)},inMessage:function(e){if(e.target){var t=A(e.target);return A.contains(O.documentElement,e.target)&&0<t.closest(p.message).length}},empty:function(){return""===o.html()},visible:function(){return 0<o.filter(":visible").length},focused:function(){return 0<h.filter(":focus").length}},get:{settings:function(){A.isPlainObject(c)&&c.searchFullText&&(l.fullTextSearch=c.searchFullText,f.error(l.error.oldSearchSyntax,v))},inputEvent:function(){var e=h[0];return e!==q&&e.oninput!==q?"input":e!==q&&e.onpropertychange!==q?"propertychange":"keyup"},value:function(){return h.val()},results:function(){return b.data(u.results)},result:function(n,e){var i=["title","id"],o=!1;return n=n!==q?n:f.get.value(),e=e!==q?e:f.get.results(),"category"===l.type?(f.debug("Finding result that matches",n),A.each(e,function(e,t){if(A.isArray(t.results)&&(o=f.search.object(n,t.results,i)[0]))return!1})):(f.debug("Finding result in results object",n),o=f.search.object(n,e,i)[0]),o||!1}},select:{firstResult:function(){f.verbose("Selecting first result"),s.first().addClass(g.active)}},set:{focus:function(){b.addClass(g.focus)},loading:function(){b.addClass(g.loading)},value:function(e){f.verbose("Setting search input value",e),h.val(e)},type:function(e){e=e||l.type,"category"==l.type&&b.addClass(l.type)},buttonPressed:function(){n.addClass(g.pressed)}},remove:{loading:function(){b.removeClass(g.loading)},focus:function(){b.removeClass(g.focus)},buttonPressed:function(){n.removeClass(g.pressed)}},query:function(e){e=A.isFunction(e)?e:function(){};var t=f.get.value(),n=f.read.cache(t);e=e||function(){},f.has.minimumCharacters()?(n?(f.debug("Reading result from cache",t),f.save.results(n.results),f.addResults(n.html),f.inject.id(n.results),e()):(f.debug("Querying for",t),A.isPlainObject(l.source)||A.isArray(l.source)?(f.search.local(t),e()):f.can.useAPI()?f.search.remote(t,e):(f.error(m.source),e())),l.onSearchQuery.call(v,t)):f.hideResults()},search:{local:function(e){var t,n=f.search.object(e,l.content);f.set.loading(),f.save.results(n),f.debug("Returned full local search results",n),0<l.maxResults&&(f.debug("Using specified max results",n),n=n.slice(0,l.maxResults)),"category"==l.type&&(n=f.create.categoryResults(n)),t=f.generateResults({results:n}),f.remove.loading(),f.addResults(t),f.inject.id(n),f.write.cache(e,{html:t,results:n})},remote:function(e,t){t=A.isFunction(t)?t:function(){},b.api("is loading")&&b.api("abort"),f.setup.api(e,t),b.api("query")},object:function(i,t,e){var r=[],s=[],a=[],n=i.toString().replace(d.escape,"\\$&"),o=new RegExp(d.beginsWith+n,"i"),c=function(e,t){var n=-1==A.inArray(t,r),i=-1==A.inArray(t,a),o=-1==A.inArray(t,s);n&&i&&o&&e.push(t)};return t=t||l.source,e=e!==q?e:l.searchFields,A.isArray(e)||(e=[e]),t===q||!1===t?(f.error(m.source),[]):(A.each(e,function(e,n){A.each(t,function(e,t){"string"==typeof t[n]&&(-1!==t[n].search(o)?c(r,t):"exact"===l.fullTextSearch&&f.exactSearch(i,t[n])?c(s,t):1==l.fullTextSearch&&f.fuzzySearch(i,t[n])&&c(a,t))})}),A.merge(s,a),A.merge(r,s),r)}},exactSearch:function(e,t){return e=e.toLowerCase(),-1<(t=t.toLowerCase()).indexOf(e)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if("string"!=typeof e)return!1;if(e=e.toLowerCase(),t=t.toLowerCase(),n<i)return!1;if(i===n)return e===t;e:for(var o=0,r=0;o<i;o++){for(var s=e.charCodeAt(o);r<n;)if(t.charCodeAt(r++)===s)continue e;return!1}return!0},parse:{response:function(e,t){var n=f.generateResults(e);f.verbose("Parsing server response",e),e!==q&&t!==q&&e[r.results]!==q&&(f.addResults(n),f.inject.id(e[r.results]),f.write.cache(t,{html:n,results:e[r.results]}),f.save.results(e[r.results]))}},cancel:{query:function(){f.can.useAPI()&&b.api("abort")}},has:{minimumCharacters:function(){return f.get.value().length>=l.minCharacters},results:function(){return 0!==o.length&&""!=o.html()}},clear:{cache:function(e){var t=b.data(u.cache);e?e&&t&&t[e]&&(f.debug("Removing value from cache",e),delete t[e],b.data(u.cache,t)):(f.debug("Clearing cache",e),b.removeData(u.cache))}},read:{cache:function(e){var t=b.data(u.cache);return!!l.cache&&(f.verbose("Checking cache for generated html for query",e),"object"==typeof t&&t[e]!==q&&t[e])}},create:{categoryResults:function(e){var n={};return A.each(e,function(e,t){t.category&&(n[t.category]===q?(f.verbose("Creating new category of results",t.category),n[t.category]={name:t.category,results:[t]}):n[t.category].results.push(t))}),n},id:function(e,t){var n,i=e+1;return t!==q?(n=String.fromCharCode(97+t)+i,f.verbose("Creating category result id",n)):(n=i,f.verbose("Creating result id",n)),n},results:function(){0===o.length&&(o=A("<div />").addClass(g.results).appendTo(b))}},inject:{result:function(e,t,n){f.verbose("Injecting result into results");var i=n!==q?o.children().eq(n).children(p.results).first().children(p.result).eq(t):o.children(p.result).eq(t);f.verbose("Injecting results metadata",i),i.data(u.result,e)},id:function(i){f.debug("Injecting unique ids into results");var o=0,r=0;return"category"===l.type?A.each(i,function(e,i){r=0,A.each(i.results,function(e,t){var n=i.results[e];n.id===q&&(n.id=f.create.id(r,o)),f.inject.result(n,r,o),r++}),o++}):A.each(i,function(e,t){var n=i[e];n.id===q&&(n.id=f.create.id(r)),f.inject.result(n,r),r++}),i}},save:{results:function(e){f.verbose("Saving current search results to metadata",e),b.data(u.results,e)}},write:{cache:function(e,t){var n=b.data(u.cache)!==q?b.data(u.cache):{};l.cache&&(f.verbose("Writing generated html to cache",e,t),n[e]=t,b.data(u.cache,n))}},addResults:function(e){if(A.isFunction(l.onResultsAdd)&&!1===l.onResultsAdd.call(o,e))return f.debug("onResultsAdd callback cancelled default action"),!1;e?(o.html(e),f.refreshResults(),l.selectFirstResult&&f.select.firstResult(),f.showResults()):f.hideResults(function(){o.empty()})},showResults:function(e){e=A.isFunction(e)?e:function(){},x||!f.is.visible()&&f.has.results()&&(f.can.transition()?(f.debug("Showing results with css animations"),o.transition({animation:l.transition+" in",debug:l.debug,verbose:l.verbose,duration:l.duration,onComplete:function(){e()},queue:!0})):(f.debug("Showing results with javascript"),o.stop().fadeIn(l.duration,l.easing)),l.onResultsOpen.call(o))},hideResults:function(e){e=A.isFunction(e)?e:function(){},f.is.visible()&&(f.can.transition()?(f.debug("Hiding results with css animations"),o.transition({animation:l.transition+" out",debug:l.debug,verbose:l.verbose,duration:l.duration,onComplete:function(){e()},queue:!0})):(f.debug("Hiding results with javascript"),o.stop().fadeOut(l.duration,l.easing)),l.onResultsClose.call(o))},generateResults:function(e){f.debug("Generating html from response",e);var t=l.templates[l.type],n=A.isPlainObject(e[r.results])&&!A.isEmptyObject(e[r.results]),i=A.isArray(e[r.results])&&0<e[r.results].length,o="";return n||i?(0<l.maxResults&&(n?"standard"==l.type&&f.error(m.maxResults):e[r.results]=e[r.results].slice(0,l.maxResults)),A.isFunction(t)?o=t(e,r):f.error(m.noTemplate,!1)):l.showNoResults&&(o=f.displayMessage(m.noResults,"empty")),l.onResults.call(v,e),o},displayMessage:function(e,t){return t=t||"standard",f.debug("Displaying message",e,t),f.addResults(l.templates.message(e,t)),l.templates.message(e,t)},setting:function(e,t){if(A.isPlainObject(e))A.extend(!0,l,e);else{if(t===q)return l[e];l[e]=t}},internal:function(e,t){if(A.isPlainObject(e))A.extend(!0,f,e);else{if(t===q)return f[e];f[e]=t}},debug:function(){!l.silent&&l.debug&&(l.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,l.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!l.silent&&l.verbose&&l.debug&&(l.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,l.name+":"),f.verbose.apply(console,arguments)))},error:function(){l.silent||(f.error=Function.prototype.bind.call(console.error,console,l.name+":"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n;l.performance&&(n=(t=(new Date).getTime())-(R||t),R=t,S.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:v,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var e=l.name+":",n=0;R=!1,clearTimeout(f.performance.timer),A.each(S,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",w&&(e+=" '"+w+"'"),1<C.length&&(e+=" ("+C.length+")"),(console.group!==q||console.table!==q)&&0<S.length&&(console.groupCollapsed(e),console.table?console.table(S):A.each(S,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),S=[]}},invoke:function(i,e,t){var o,r,n,s=a;return e=e||E,t=v||t,"string"==typeof i&&s!==q&&(i=i.split(/[\. ]/),o=i.length-1,A.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(A.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==q)return r=s[n],!1;if(!A.isPlainObject(s[t])||e==o)return s[t]!==q&&(r=s[t]),!1;s=s[t]}})),A.isFunction(r)?n=r.apply(t,e):r!==q&&(n=r),A.isArray(k)?k.push(n):k!==q?k=[k,n]:n!==q&&(k=n),r}},P?(a===q&&f.initialize(),f.invoke(T)):(a!==q&&a.invoke("destroy"),f.initialize())}),k!==q?k:this},A.fn.search.settings={name:"Search",namespace:"search",silent:!1,debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,selectFirstResult:!1,apiSettings:!1,source:!1,searchOnFocus:!0,searchFields:["title","description"],displayField:"",fullTextSearch:"exact",automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,showNoResults:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(e){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",oldSearchSyntax:"searchFullText setting has been renamed fullTextSearch for consistency, please adjust your settings.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",message:".results > .message",category:".category",result:".result",title:".title, .name"},templates:{escape:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(e)?e.replace(/[&<>"'`]/g,function(e){return t[e]}):e},message:function(e,t){var n="";return e!==q&&t!==q&&(n+='<div class="message '+t+'">',n+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",n+="</div>"),n},category:function(e,n){var i="";A.fn.search.settings.templates.escape;return e[n.categoryResults]!==q&&(A.each(e[n.categoryResults],function(e,t){t[n.results]!==q&&0<t.results.length&&(i+='<div class="category">',t[n.categoryName]!==q&&(i+='<div class="name">'+t[n.categoryName]+"</div>"),i+='<div class="results">',A.each(t.results,function(e,t){t[n.url]?i+='<a class="result" href="'+t[n.url]+'">':i+='<a class="result">',t[n.image]!==q&&(i+='<div class="image"> <img src="'+t[n.image]+'"></div>'),i+='<div class="content">',t[n.price]!==q&&(i+='<div class="price">'+t[n.price]+"</div>"),t[n.title]!==q&&(i+='<div class="title">'+t[n.title]+"</div>"),t[n.description]!==q&&(i+='<div class="description">'+t[n.description]+"</div>"),i+="</div>",i+="</a>"}),i+="</div>",i+="</div>")}),e[n.action]&&(i+='<a href="'+e[n.action][n.actionURL]+'" class="action">'+e[n.action][n.actionText]+"</a>"),i)},standard:function(e,n){var i="";return e[n.results]!==q&&(A.each(e[n.results],function(e,t){t[n.url]?i+='<a class="result" href="'+t[n.url]+'">':i+='<a class="result">',t[n.image]!==q&&(i+='<div class="image"> <img src="'+t[n.image]+'"></div>'),i+='<div class="content">',t[n.price]!==q&&(i+='<div class="price">'+t[n.price]+"</div>"),t[n.title]!==q&&(i+='<div class="title">'+t[n.title]+"</div>"),t[n.description]!==q&&(i+='<div class="description">'+t[n.description]+"</div>"),i+="</div>",i+="</a>"}),e[n.action]&&(i+='<a href="'+e[n.action][n.actionURL]+'" class="action">'+e[n.action][n.actionText]+"</a>"),i)}}}}(jQuery,window,document),function(j,D,V,z){"use strict";D=void 0!==D&&D.Math==Math?D:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),j.fn.sidebar=function(x){var k,e=j(this),C=j(D),w=j(V),R=j("html"),S=j("head"),T=e.selector||"",P=(new Date).getTime(),E=[],A=x,F="string"==typeof A,O=[].slice.call(arguments,1),q=D.requestAnimationFrame||D.mozRequestAnimationFrame||D.webkitRequestAnimationFrame||D.msRequestAnimationFrame||function(e){setTimeout(e,0)};return e.each(function(){var s,a,e,t,c,l,u=j.isPlainObject(x)?j.extend(!0,{},j.fn.sidebar.settings,x):j.extend({},j.fn.sidebar.settings),n=u.selector,r=u.className,i=u.namespace,o=u.regExp,d=u.error,f="."+i,g="module-"+i,p=j(this),m=j(u.context),b=p.children(n.sidebar),h=(m.children(n.fixed),m.children(n.pusher)),v=this,y=p.data(g);l={initialize:function(){l.debug("Initializing sidebar",x),l.create.id(),c=l.get.transitionEvent(),u.delaySetup?q(l.setup.layout):l.setup.layout(),q(function(){l.setup.cache()}),l.instantiate()},instantiate:function(){l.verbose("Storing instance of module",l),y=l,p.data(g,l)},create:{id:function(){e=(Math.random().toString(16)+"000000000").substr(2,8),a="."+e,l.verbose("Creating unique id for element",e)}},destroy:function(){l.verbose("Destroying previous module for",p),p.off(f).removeData(g),l.is.ios()&&l.remove.ios(),m.off(a),C.off(a),w.off(a)},event:{clickaway:function(e){var t=0<h.find(e.target).length||h.is(e.target),n=m.is(e.target);t&&(l.verbose("User clicked on dimmed page"),l.hide()),n&&(l.verbose("User clicked on dimmable context (scaled out page)"),l.hide())},touch:function(e){},containScroll:function(e){v.scrollTop<=0&&(v.scrollTop=1),v.scrollTop+v.offsetHeight>=v.scrollHeight&&(v.scrollTop=v.scrollHeight-v.offsetHeight-1)},scroll:function(e){0===j(e.target).closest(n.sidebar).length&&e.preventDefault()}},bind:{clickaway:function(){l.verbose("Adding clickaway events to context",m),u.closable&&m.on("click"+a,l.event.clickaway).on("touchend"+a,l.event.clickaway)},scrollLock:function(){u.scrollLock&&(l.debug("Disabling page scroll"),C.on("DOMMouseScroll"+a,l.event.scroll)),l.verbose("Adding events to contain sidebar scroll"),w.on("touchmove"+a,l.event.touch),p.on("scroll"+f,l.event.containScroll)}},unbind:{clickaway:function(){l.verbose("Removing clickaway events from context",m),m.off(a)},scrollLock:function(){l.verbose("Removing scroll lock from page"),w.off(a),C.off(a),p.off("scroll"+f)}},add:{inlineCSS:function(){var e,t=l.cache.width||p.outerWidth(),n=l.cache.height||p.outerHeight(),i=l.is.rtl(),o=l.get.direction(),r={left:t,right:-t,top:n,bottom:-n};i&&(l.verbose("RTL detected, flipping widths"),r.left=-t,r.right=t),e="<style>","left"===o||"right"===o?(l.debug("Adding CSS rules for animation distance",t),e+=" .ui.visible."+o+".sidebar ~ .fixed, .ui.visible."+o+".sidebar ~ .pusher {   -webkit-transform: translate3d("+r[o]+"px, 0, 0);           transform: translate3d("+r[o]+"px, 0, 0); }"):"top"!==o&&"bottom"!=o||(e+=" .ui.visible."+o+".sidebar ~ .fixed, .ui.visible."+o+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+r[o]+"px, 0);           transform: translate3d(0, "+r[o]+"px, 0); }"),l.is.ie()&&("left"===o||"right"===o?(l.debug("Adding CSS rules for animation distance",t),e+=" body.pushable > .ui.visible."+o+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+r[o]+"px, 0, 0);           transform: translate3d("+r[o]+"px, 0, 0); }"):"top"!==o&&"bottom"!=o||(e+=" body.pushable > .ui.visible."+o+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+r[o]+"px, 0);           transform: translate3d(0, "+r[o]+"px, 0); }"),e+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),s=j(e+="</style>").appendTo(S),l.debug("Adding sizing css to head",s)}},refresh:function(){l.verbose("Refreshing selector cache"),m=j(u.context),b=m.children(n.sidebar),h=m.children(n.pusher),m.children(n.fixed),l.clear.cache()},refreshSidebars:function(){l.verbose("Refreshing other sidebars"),b=m.children(n.sidebar)},repaint:function(){l.verbose("Forcing repaint event"),v.style.display="none";v.offsetHeight;v.scrollTop=v.scrollTop,v.style.display=""},setup:{cache:function(){l.cache={width:p.outerWidth(),height:p.outerHeight(),rtl:"rtl"==p.css("direction")}},layout:function(){0===m.children(n.pusher).length&&(l.debug("Adding wrapper element for sidebar"),l.error(d.pusher),h=j('<div class="pusher" />'),m.children().not(n.omitted).not(b).wrapAll(h),l.refresh()),0!==p.nextAll(n.pusher).length&&p.nextAll(n.pusher)[0]===h[0]||(l.debug("Moved sidebar to correct parent element"),l.error(d.movedSidebar,v),p.detach().prependTo(m),l.refresh()),l.clear.cache(),l.set.pushable(),l.set.direction()}},attachEvents:function(e,t){var n=j(e);t=j.isFunction(l[t])?l[t]:l.toggle,0<n.length?(l.debug("Attaching sidebar events to element",e,t),n.on("click"+f,t)):l.error(d.notFound,e)},show:function(e){if(e=j.isFunction(e)?e:function(){},l.is.hidden()){if(l.refreshSidebars(),u.overlay&&(l.error(d.overlay),u.transition="overlay"),l.refresh(),l.othersActive())if(l.debug("Other sidebars currently visible"),u.exclusive){if("overlay"!=u.transition)return void l.hideOthers(l.show);l.hideOthers()}else u.transition="overlay";l.pushPage(function(){e.call(v),u.onShow.call(v)}),u.onChange.call(v),u.onVisible.call(v)}else l.debug("Sidebar is already visible")},hide:function(e){e=j.isFunction(e)?e:function(){},(l.is.visible()||l.is.animating())&&(l.debug("Hiding sidebar",e),l.refreshSidebars(),l.pullPage(function(){e.call(v),u.onHidden.call(v)}),u.onChange.call(v),u.onHide.call(v))},othersAnimating:function(){return 0<b.not(p).filter("."+r.animating).length},othersVisible:function(){return 0<b.not(p).filter("."+r.visible).length},othersActive:function(){return l.othersVisible()||l.othersAnimating()},hideOthers:function(e){var t=b.not(p).filter("."+r.visible),n=t.length,i=0;e=e||function(){},t.sidebar("hide",function(){++i==n&&e()})},toggle:function(){l.verbose("Determining toggled direction"),l.is.hidden()?l.show():l.hide()},pushPage:function(t){var e,n,i,o=l.get.transition(),r="overlay"===o||l.othersActive()?p:h;t=j.isFunction(t)?t:function(){},"scale down"==u.transition&&l.scrollToTop(),l.set.transition(o),l.repaint(),e=function(){l.bind.clickaway(),l.add.inlineCSS(),l.set.animating(),l.set.visible()},n=function(){l.set.dimmed()},i=function(e){e.target==r[0]&&(r.off(c+a,i),l.remove.animating(),l.bind.scrollLock(),t.call(v))},r.off(c+a),r.on(c+a,i),q(e),u.dimPage&&!l.othersVisible()&&q(n)},pullPage:function(t){var e,n,i=l.get.transition(),o="overlay"==i||l.othersActive()?p:h;t=j.isFunction(t)?t:function(){},l.verbose("Removing context push state",l.get.direction()),l.unbind.clickaway(),l.unbind.scrollLock(),e=function(){l.set.transition(i),l.set.animating(),l.remove.visible(),u.dimPage&&!l.othersVisible()&&h.removeClass(r.dimmed)},n=function(e){e.target==o[0]&&(o.off(c+a,n),l.remove.animating(),l.remove.transition(),l.remove.inlineCSS(),("scale down"==i||u.returnScroll&&l.is.mobile())&&l.scrollBack(),t.call(v))},o.off(c+a),o.on(c+a,n),q(e)},scrollToTop:function(){l.verbose("Scrolling to top of page to avoid animation issues"),t=j(D).scrollTop(),p.scrollTop(0),D.scrollTo(0,0)},scrollBack:function(){l.verbose("Scrolling back to original page position"),D.scrollTo(0,t)},clear:{cache:function(){l.verbose("Clearing cached dimensions"),l.cache={}}},set:{ios:function(){R.addClass(r.ios)},pushed:function(){m.addClass(r.pushed)},pushable:function(){m.addClass(r.pushable)},dimmed:function(){h.addClass(r.dimmed)},active:function(){p.addClass(r.active)},animating:function(){p.addClass(r.animating)},transition:function(e){e=e||l.get.transition(),p.addClass(e)},direction:function(e){e=e||l.get.direction(),p.addClass(r[e])},visible:function(){p.addClass(r.visible)},overlay:function(){p.addClass(r.overlay)}},remove:{inlineCSS:function(){l.debug("Removing inline css styles",s),s&&0<s.length&&s.remove()},ios:function(){R.removeClass(r.ios)},pushed:function(){m.removeClass(r.pushed)},pushable:function(){m.removeClass(r.pushable)},active:function(){p.removeClass(r.active)},animating:function(){p.removeClass(r.animating)},transition:function(e){e=e||l.get.transition(),p.removeClass(e)},direction:function(e){e=e||l.get.direction(),p.removeClass(r[e])},visible:function(){p.removeClass(r.visible)},overlay:function(){p.removeClass(r.overlay)}},get:{direction:function(){return p.hasClass(r.top)?r.top:p.hasClass(r.right)?r.right:p.hasClass(r.bottom)?r.bottom:r.left},transition:function(){var e,t=l.get.direction();return e=l.is.mobile()?"auto"==u.mobileTransition?u.defaultTransition.mobile[t]:u.mobileTransition:"auto"==u.transition?u.defaultTransition.computer[t]:u.transition,l.verbose("Determined transition",e),e},transitionEvent:function(){var e,t=V.createElement("element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(t.style[e]!==z)return n[e]}},is:{ie:function(){return!D.ActiveXObject&&"ActiveXObject"in D||"ActiveXObject"in D},ios:function(){var e=navigator.userAgent,t=e.match(o.ios),n=e.match(o.mobileChrome);return!(!t||n)&&(l.verbose("Browser was found to be iOS",e),!0)},mobile:function(){var e=navigator.userAgent;return e.match(o.mobile)?(l.verbose("Browser was found to be mobile",e),!0):(l.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!l.is.visible()},visible:function(){return p.hasClass(r.visible)},open:function(){return l.is.visible()},closed:function(){return l.is.hidden()},vertical:function(){return p.hasClass(r.top)},animating:function(){return m.hasClass(r.animating)},rtl:function(){return l.cache.rtl===z&&(l.cache.rtl="rtl"==p.css("direction")),l.cache.rtl}},setting:function(e,t){if(l.debug("Changing setting",e,t),j.isPlainObject(e))j.extend(!0,u,e);else{if(t===z)return u[e];j.isPlainObject(u[e])?j.extend(!0,u[e],t):u[e]=t}},internal:function(e,t){if(j.isPlainObject(e))j.extend(!0,l,e);else{if(t===z)return l[e];l[e]=t}},debug:function(){!u.silent&&u.debug&&(u.performance?l.performance.log(arguments):(l.debug=Function.prototype.bind.call(console.info,console,u.name+":"),l.debug.apply(console,arguments)))},verbose:function(){!u.silent&&u.verbose&&u.debug&&(u.performance?l.performance.log(arguments):(l.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),l.verbose.apply(console,arguments)))},error:function(){u.silent||(l.error=Function.prototype.bind.call(console.error,console,u.name+":"),l.error.apply(console,arguments))},performance:{log:function(e){var t,n;u.performance&&(n=(t=(new Date).getTime())-(P||t),P=t,E.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:v,"Execution Time":n})),clearTimeout(l.performance.timer),l.performance.timer=setTimeout(l.performance.display,500)},display:function(){var e=u.name+":",n=0;P=!1,clearTimeout(l.performance.timer),j.each(E,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",T&&(e+=" '"+T+"'"),(console.group!==z||console.table!==z)&&0<E.length&&(console.groupCollapsed(e),console.table?console.table(E):j.each(E,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),E=[]}},invoke:function(i,e,t){var o,r,n,s=y;return e=e||O,t=v||t,"string"==typeof i&&s!==z&&(i=i.split(/[\. ]/),o=i.length-1,j.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(j.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==z)return r=s[n],!1;if(!j.isPlainObject(s[t])||e==o)return s[t]!==z?r=s[t]:l.error(d.method,i),!1;s=s[t]}})),j.isFunction(r)?n=r.apply(t,e):r!==z&&(n=r),j.isArray(k)?k.push(n):k!==z?k=[k,n]:n!==z&&(k=n),r}},F?(y===z&&l.initialize(),l.invoke(A)):(y!==z&&l.invoke("destroy"),l.initialize())}),k!==z?k:this},j.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(E,A,e,F){"use strict";A=void 0!==A&&A.Math==Math?A:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();E.api=E.fn.api=function(x){var k,e=E.isFunction(this)?E(A):E(this),C=e.selector||"",w=(new Date).getTime(),R=[],S=x,T="string"==typeof S,P=[].slice.call(arguments,1);return e.each(function(){var r,s,n,e,a,c,l=E.isPlainObject(x)?E.extend(!0,{},E.fn.api.settings,x):E.extend({},E.fn.api.settings),t=l.namespace,i=l.metadata,o=l.selector,u=l.error,d=l.className,f="."+t,g="module-"+t,p=E(this),m=p.closest(o.form),b=l.stateContext?E(l.stateContext):p,h=this,v=b[0],y=p.data(g);c={initialize:function(){T||c.bind.events(),c.instantiate()},instantiate:function(){c.verbose("Storing instance of module",c),y=c,p.data(g,y)},destroy:function(){c.verbose("Destroying previous module for",h),p.removeData(g).off(f)},bind:{events:function(){var e=c.get.event();e?(c.verbose("Attaching API events to element",e),p.on(e+f,c.event.trigger)):"now"==l.on&&(c.debug("Querying API endpoint immediately"),c.query())}},decode:{json:function(e){if(e!==F&&"string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}},read:{cachedResponse:function(e){var t;if(A.Storage!==F)return t=sessionStorage.getItem(e),c.debug("Using cached response",e,t),t=c.decode.json(t);c.error(u.noStorage)}},write:{cachedResponse:function(e,t){t&&""===t?c.debug("Response empty, not caching",t):A.Storage!==F?(E.isPlainObject(t)&&(t=JSON.stringify(t)),sessionStorage.setItem(e,t),c.verbose("Storing cached response for url",e,t)):c.error(u.noStorage)}},query:function(){if(c.is.disabled())c.debug("Element is disabled API request aborted");else{if(c.is.loading()){if(!l.interruptRequests)return void c.debug("Cancelling request, previous request is still pending");c.debug("Interrupting previous request"),c.abort()}if(l.defaultData&&E.extend(!0,l.urlData,c.get.defaultData()),l.serializeForm&&(l.data=c.add.formData(l.data)),!1===(s=c.get.settings()))return c.cancelled=!0,void c.error(u.beforeSend);if(c.cancelled=!1,(n=c.get.templatedURL())||c.is.mocked()){if((n=c.add.urlData(n))||c.is.mocked()){if(s.url=l.base+n,r=E.extend(!0,{},l,{type:l.method||l.type,data:e,url:l.base+n,beforeSend:l.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),c.debug("Querying URL",r.url),c.verbose("Using AJAX settings",r),"local"===l.cache&&c.read.cachedResponse(n))return c.debug("Response returned from local cache"),c.request=c.create.request(),void c.request.resolveWith(v,[c.read.cachedResponse(n)]);l.throttle?l.throttleFirstRequest||c.timer?(c.debug("Throttling request",l.throttle),clearTimeout(c.timer),c.timer=setTimeout(function(){c.timer&&delete c.timer,c.debug("Sending throttled request",e,r.method),c.send.request()},l.throttle)):(c.debug("Sending request",e,r.method),c.send.request(),c.timer=setTimeout(function(){},l.throttle)):(c.debug("Sending request",e,r.method),c.send.request())}}else c.error(u.missingURL)}},should:{removeError:function(){return!0===l.hideError||"auto"===l.hideError&&!c.is.form()}},is:{disabled:function(){return 0<p.filter(o.disabled).length},expectingJSON:function(){return"json"===l.dataType||"jsonp"===l.dataType},form:function(){return p.is("form")||b.is("form")},mocked:function(){return l.mockResponse||l.mockResponseAsync||l.response||l.responseAsync},input:function(){return p.is("input")},loading:function(){return!!c.request&&"pending"==c.request.state()},abortedRequest:function(e){return e&&e.readyState!==F&&0===e.readyState?(c.verbose("XHR request determined to be aborted"),!0):(c.verbose("XHR request was not aborted"),!1)},validResponse:function(e){return c.is.expectingJSON()&&E.isFunction(l.successTest)?(c.debug("Checking JSON returned success",l.successTest,e),l.successTest(e)?(c.debug("Response passed success test",e),!0):(c.debug("Response failed success test",e),!1)):(c.verbose("Response is not JSON, skipping validation",l.successTest,e),!0)}},was:{cancelled:function(){return c.cancelled||!1},succesful:function(){return c.request&&"resolved"==c.request.state()},failure:function(){return c.request&&"rejected"==c.request.state()},complete:function(){return c.request&&("resolved"==c.request.state()||"rejected"==c.request.state())}},add:{urlData:function(o,r){var e,t;return o&&(e=o.match(l.regExp.required),t=o.match(l.regExp.optional),r=r||l.urlData,e&&(c.debug("Looking for required URL variables",e),E.each(e,function(e,t){var n=-1!==t.indexOf("$")?t.substr(2,t.length-3):t.substr(1,t.length-2),i=E.isPlainObject(r)&&r[n]!==F?r[n]:p.data(n)!==F?p.data(n):b.data(n)!==F?b.data(n):r[n];if(i===F)return c.error(u.requiredParameter,n,o),o=!1;c.verbose("Found required variable",n,i),i=l.encodeParameters?c.get.urlEncodedValue(i):i,o=o.replace(t,i)})),t&&(c.debug("Looking for optional URL variables",e),E.each(t,function(e,t){var n=-1!==t.indexOf("$")?t.substr(3,t.length-4):t.substr(2,t.length-3),i=E.isPlainObject(r)&&r[n]!==F?r[n]:p.data(n)!==F?p.data(n):b.data(n)!==F?b.data(n):r[n];o=i!==F?(c.verbose("Optional variable Found",n,i),o.replace(t,i)):(c.verbose("Optional variable not found",n),-1!==o.indexOf("/"+t)?o.replace("/"+t,""):o.replace(t,""))}))),o},formData:function(e){var t=E.fn.serializeObject!==F,n=t?m.serializeObject():m.serialize();return e=e||l.data,e=E.isPlainObject(e)?t?(c.debug("Extending existing data with form data",e,n),E.extend(!0,{},e,n)):(c.error(u.missingSerialize),c.debug("Cant extend data. Replacing data with form data",e,n),n):(c.debug("Adding form data",n),n)}},send:{request:function(){c.set.loading(),c.request=c.create.request(),c.is.mocked()?c.mockedXHR=c.create.mockedXHR():c.xhr=c.create.xhr(),l.onRequest.call(v,c.request,c.xhr)}},event:{trigger:function(e){c.query(),"submit"!=e.type&&"click"!=e.type||e.preventDefault()},xhr:{always:function(){},done:function(e,t,n){var i=this,o=(new Date).getTime()-a,r=l.loadingDuration-o,s=!!E.isFunction(l.onResponse)&&(c.is.expectingJSON()?l.onResponse.call(i,E.extend(!0,{},e)):l.onResponse.call(i,e));r=0<r?r:0,s&&(c.debug("Modified API response in onResponse callback",l.onResponse,s,e),e=s),0<r&&c.debug("Response completed early delaying state change by",r),setTimeout(function(){c.is.validResponse(e)?c.request.resolveWith(i,[e,n]):c.request.rejectWith(i,[n,"invalid"])},r)},fail:function(e,t,n){var i=this,o=(new Date).getTime()-a,r=l.loadingDuration-o;0<(r=0<r?r:0)&&c.debug("Response completed early delaying state change by",r),setTimeout(function(){c.is.abortedRequest(e)?c.request.rejectWith(i,[e,"aborted",n]):c.request.rejectWith(i,[e,"error",t,n])},r)}},request:{done:function(e,t){c.debug("Successful API Response",e),"local"===l.cache&&n&&(c.write.cachedResponse(n,e),c.debug("Saving server response locally",c.cache)),l.onSuccess.call(v,e,p,t)},complete:function(e,t){var n,i;c.was.succesful()?(i=e,n=t):(n=e,i=c.get.responseFromXHR(n)),c.remove.loading(),l.onComplete.call(v,i,p,n)},fail:function(e,t,n){var i=c.get.responseFromXHR(e),o=c.get.errorFromRequest(i,t,n);if("aborted"==t)return c.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",t,n),l.onAbort.call(v,t,p,e),!0;"invalid"==t?c.debug("JSON did not pass success test. A server-side error has most likely occurred",i):"error"==t&&e!==F&&(c.debug("XHR produced a server error",t,n),200!=e.status&&n!==F&&""!==n&&c.error(u.statusMessage+n,r.url),l.onError.call(v,o,p,e)),l.errorDuration&&"aborted"!==t&&(c.debug("Adding error state"),c.set.error(),c.should.removeError()&&setTimeout(c.remove.error,l.errorDuration)),c.debug("API Request failed",o,e),l.onFailure.call(v,i,p,e)}}},create:{request:function(){return E.Deferred().always(c.event.request.complete).done(c.event.request.done).fail(c.event.request.fail)},mockedXHR:function(){var e,t,n,i=l.mockResponse||l.response,o=l.mockResponseAsync||l.responseAsync;return n=E.Deferred().always(c.event.xhr.complete).done(c.event.xhr.done).fail(c.event.xhr.fail),i?(t=E.isFunction(i)?(c.debug("Using specified synchronous callback",i),i.call(v,s)):(c.debug("Using settings specified response",i),i),n.resolveWith(v,[t,!1,{responseText:t}])):E.isFunction(o)&&(e=function(e){c.debug("Async callback returned response",e),e?n.resolveWith(v,[e,!1,{responseText:e}]):n.rejectWith(v,[{responseText:e},!1,!1])},c.debug("Using specified async response callback",o),o.call(v,s,e)),n},xhr:function(){var e;return e=E.ajax(r).always(c.event.xhr.always).done(c.event.xhr.done).fail(c.event.xhr.fail),c.verbose("Created server request",e,r),e}},set:{error:function(){c.verbose("Adding error state to element",b),b.addClass(d.error)},loading:function(){c.verbose("Adding loading state to element",b),b.addClass(d.loading),a=(new Date).getTime()}},remove:{error:function(){c.verbose("Removing error state from element",b),b.removeClass(d.error)},loading:function(){c.verbose("Removing loading state from element",b),b.removeClass(d.loading)}},get:{responseFromXHR:function(e){return!!E.isPlainObject(e)&&(c.is.expectingJSON()?c.decode.json(e.responseText):e.responseText)},errorFromRequest:function(e,t,n){return E.isPlainObject(e)&&e.error!==F?e.error:l.error[t]!==F?l.error[t]:n},request:function(){return c.request||!1},xhr:function(){return c.xhr||!1},settings:function(){var e;return(e=l.beforeSend.call(v,l))&&(e.success!==F&&(c.debug("Legacy success callback detected",e),c.error(u.legacyParameters,e.success),e.onSuccess=e.success),e.failure!==F&&(c.debug("Legacy failure callback detected",e),c.error(u.legacyParameters,e.failure),e.onFailure=e.failure),e.complete!==F&&(c.debug("Legacy complete callback detected",e),c.error(u.legacyParameters,e.complete),e.onComplete=e.complete)),e===F&&c.error(u.noReturnedValue),!1===e?e:e!==F?E.extend(!0,{},e):E.extend(!0,{},l)},urlEncodedValue:function(e){var t=A.decodeURIComponent(e),n=A.encodeURIComponent(e);return t!==e?(c.debug("URL value is already encoded, avoiding double encoding",e),e):(c.verbose("Encoding value using encodeURIComponent",e,n),n)},defaultData:function(){var e={};return E.isWindow(h)||(c.is.input()?e.value=p.val():c.is.form()||(e.text=p.text())),e},event:function(){return E.isWindow(h)||"now"==l.on?(c.debug("API called without element, no events attached"),!1):"auto"==l.on?p.is("input")?h.oninput!==F?"input":h.onpropertychange!==F?"propertychange":"keyup":p.is("form")?"submit":"click":l.on},templatedURL:function(e){if(e=e||p.data(i.action)||l.action||!1,n=p.data(i.url)||l.url||!1)return c.debug("Using specified url",n),n;if(e){if(c.debug("Looking up url for action",e,l.api),l.api[e]===F&&!c.is.mocked())return void c.error(u.missingAction,l.action,l.api);n=l.api[e]}else c.is.form()&&(n=p.attr("action")||b.attr("action")||!1,c.debug("No url or action specified, defaulting to form action",n));return n}},abort:function(){var e=c.get.xhr();e&&"resolved"!==e.state()&&(c.debug("Cancelling API request"),e.abort())},reset:function(){c.remove.error(),c.remove.loading()},setting:function(e,t){if(c.debug("Changing setting",e,t),E.isPlainObject(e))E.extend(!0,l,e);else{if(t===F)return l[e];E.isPlainObject(l[e])?E.extend(!0,l[e],t):l[e]=t}},internal:function(e,t){if(E.isPlainObject(e))E.extend(!0,c,e);else{if(t===F)return c[e];c[e]=t}},debug:function(){!l.silent&&l.debug&&(l.performance?c.performance.log(arguments):(c.debug=Function.prototype.bind.call(console.info,console,l.name+":"),c.debug.apply(console,arguments)))},verbose:function(){!l.silent&&l.verbose&&l.debug&&(l.performance?c.performance.log(arguments):(c.verbose=Function.prototype.bind.call(console.info,console,l.name+":"),c.verbose.apply(console,arguments)))},error:function(){l.silent||(c.error=Function.prototype.bind.call(console.error,console,l.name+":"),c.error.apply(console,arguments))},performance:{log:function(e){var t,n;l.performance&&(n=(t=(new Date).getTime())-(w||t),w=t,R.push({Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(c.performance.timer),c.performance.timer=setTimeout(c.performance.display,500)},display:function(){var e=l.name+":",n=0;w=!1,clearTimeout(c.performance.timer),E.each(R,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",C&&(e+=" '"+C+"'"),(console.group!==F||console.table!==F)&&0<R.length&&(console.groupCollapsed(e),console.table?console.table(R):E.each(R,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),R=[]}},invoke:function(i,e,t){var o,r,n,s=y;return e=e||P,t=h||t,"string"==typeof i&&s!==F&&(i=i.split(/[\. ]/),o=i.length-1,E.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(E.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==F)return r=s[n],!1;if(!E.isPlainObject(s[t])||e==o)return s[t]!==F?r=s[t]:c.error(u.method,i),!1;s=s[t]}})),E.isFunction(r)?n=r.apply(t,e):r!==F&&(n=r),E.isArray(k)?k.push(n):k!==F?k=[k,n]:n!==F&&(k=n),r}},T?(y===F&&c.initialize(),c.invoke(S)):(y!==F&&y.invoke("destroy"),c.initialize())}),k!==F?k:this},E.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onResponse:!1,onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function(E,A,F,O){"use strict";A=void 0!==A&&A.Math==Math?A:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),E.fn.visibility=function(v){var y,e=E(this),x=e.selector||"",k=(new Date).getTime(),C=[],w=v,R="string"==typeof w,S=[].slice.call(arguments,1),T=e.length,P=0;return e.each(function(){var e,t,n,a,o=E.isPlainObject(v)?E.extend(!0,{},E.fn.visibility.settings,v):E.extend({},E.fn.visibility.settings),i=o.className,r=o.namespace,c=o.error,s=o.metadata,l="."+r,u="module-"+r,d=E(A),f=E(this),g=E(o.context),p=(f.selector,f.data(u)),m=A.requestAnimationFrame||A.mozRequestAnimationFrame||A.webkitRequestAnimationFrame||A.msRequestAnimationFrame||function(e){setTimeout(e,0)},b=this,h=!1;a={initialize:function(){a.debug("Initializing",o),a.setup.cache(),a.should.trackChanges()&&("image"==o.type&&a.setup.image(),"fixed"==o.type&&a.setup.fixed(),o.observeChanges&&a.observeChanges(),a.bind.events()),a.save.position(),a.is.visible()||a.error(c.visible,f),o.initialCheck&&a.checkVisibility(),a.instantiate()},instantiate:function(){a.debug("Storing instance",a),f.data(u,a),p=a},destroy:function(){a.verbose("Destroying previous module"),n&&n.disconnect(),t&&t.disconnect(),d.off("load"+l,a.event.load).off("resize"+l,a.event.resize),g.off("scroll"+l,a.event.scroll).off("scrollchange"+l,a.event.scrollchange),"fixed"==o.type&&(a.resetFixed(),a.remove.placeholder()),f.off(l).removeData(u)},observeChanges:function(){"MutationObserver"in A&&(t=new MutationObserver(a.event.contextChanged),n=new MutationObserver(a.event.changed),t.observe(F,{childList:!0,subtree:!0}),n.observe(b,{childList:!0,subtree:!0}),a.debug("Setting up mutation observer",n))},bind:{events:function(){a.verbose("Binding visibility events to scroll and resize"),o.refreshOnLoad&&d.on("load"+l,a.event.load),d.on("resize"+l,a.event.resize),g.off("scroll"+l).on("scroll"+l,a.event.scroll).on("scrollchange"+l,a.event.scrollchange)}},event:{changed:function(e){a.verbose("DOM tree modified, updating visibility calculations"),a.timer=setTimeout(function(){a.verbose("DOM tree modified, updating sticky menu"),a.refresh()},100)},contextChanged:function(e){[].forEach.call(e,function(e){e.removedNodes&&[].forEach.call(e.removedNodes,function(e){(e==b||0<E(e).find(b).length)&&(a.debug("Element removed from DOM, tearing down events"),a.destroy())})})},resize:function(){a.debug("Window resized"),o.refreshOnResize&&m(a.refresh)},load:function(){a.debug("Page finished loading"),m(a.refresh)},scroll:function(){o.throttle?(clearTimeout(a.timer),a.timer=setTimeout(function(){g.triggerHandler("scrollchange"+l,[g.scrollTop()])},o.throttle)):m(function(){g.triggerHandler("scrollchange"+l,[g.scrollTop()])})},scrollchange:function(e,t){a.checkVisibility(t)}},precache:function(e,t){e instanceof Array||(e=[e]);for(var n=e.length,i=0,o=[],r=F.createElement("img"),s=function(){++i>=e.length&&E.isFunction(t)&&t()};n--;)(r=F.createElement("img")).onload=s,r.onerror=s,r.src=e[n],o.push(r)},enableCallbacks:function(){a.debug("Allowing callbacks to occur"),h=!1},disableCallbacks:function(){a.debug("Disabling all callbacks temporarily"),h=!0},should:{trackChanges:function(){return R?(a.debug("One time query, no need to bind events"),!1):(a.debug("Callbacks being attached"),!0)}},setup:{cache:function(){a.cache={occurred:{},screen:{},element:{}}},image:function(){var e=f.data(s.src);e&&(a.verbose("Lazy loading image",e),o.once=!0,o.observeChanges=!1,o.onOnScreen=function(){a.debug("Image on screen",b),a.precache(e,function(){a.set.image(e,function(){++P==T&&o.onAllLoaded.call(this),o.onLoad.call(this)})})})},fixed:function(){a.debug("Setting up fixed"),o.once=!1,o.observeChanges=!1,o.initialCheck=!0,o.refreshOnLoad=!0,v.transition||(o.transition=!1),a.create.placeholder(),a.debug("Added placeholder",e),o.onTopPassed=function(){a.debug("Element passed, adding fixed position",f),a.show.placeholder(),a.set.fixed(),o.transition&&E.fn.transition!==O&&f.transition(o.transition,o.duration)},o.onTopPassedReverse=function(){a.debug("Element returned to position, removing fixed",f),a.hide.placeholder(),a.remove.fixed()}}},create:{placeholder:function(){a.verbose("Creating fixed position placeholder"),e=f.clone(!1).css("display","none").addClass(i.placeholder).insertAfter(f)}},show:{placeholder:function(){a.verbose("Showing placeholder"),e.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){a.verbose("Hiding placeholder"),e.css("display","none").css("visibility","")}},set:{fixed:function(){a.verbose("Setting element to fixed position"),f.addClass(i.fixed).css({position:"fixed",top:o.offset+"px",left:"auto",zIndex:o.zIndex}),o.onFixed.call(b)},image:function(e,t){if(f.attr("src",e),o.transition)if(E.fn.transition!==O){if(f.hasClass(i.visible))return void a.debug("Transition already occurred on this image, skipping animation");f.transition(o.transition,o.duration,t)}else f.fadeIn(o.duration,t);else f.show()}},is:{onScreen:function(){return a.get.elementCalculations().onScreen},offScreen:function(){return a.get.elementCalculations().offScreen},visible:function(){return!(!a.cache||!a.cache.element)&&!(0===a.cache.element.width&&0===a.cache.element.offset.top)},verticallyScrollableContext:function(){var e=g.get(0)!==A&&g.css("overflow-y");return"auto"==e||"scroll"==e},horizontallyScrollableContext:function(){var e=g.get(0)!==A&&g.css("overflow-x");return"auto"==e||"scroll"==e}},refresh:function(){a.debug("Refreshing constants (width/height)"),"fixed"==o.type&&a.resetFixed(),a.reset(),a.save.position(),o.checkOnRefresh&&a.checkVisibility(),o.onRefresh.call(b)},resetFixed:function(){a.remove.fixed(),a.remove.occurred()},reset:function(){a.verbose("Resetting all cached values"),E.isPlainObject(a.cache)&&(a.cache.screen={},a.cache.element={})},checkVisibility:function(e){a.verbose("Checking visibility of element",a.cache.element),!h&&a.is.visible()&&(a.save.scroll(e),a.save.calculations(),a.passed(),a.passingReverse(),a.topVisibleReverse(),a.bottomVisibleReverse(),a.topPassedReverse(),a.bottomPassedReverse(),a.onScreen(),a.offScreen(),a.passing(),a.topVisible(),a.bottomVisible(),a.topPassed(),a.bottomPassed(),o.onUpdate&&o.onUpdate.call(b,a.get.elementCalculations()))},passed:function(e,t){var n=a.get.elementCalculations();if(e&&t)o.onPassed[e]=t;else{if(e!==O)return a.get.pixelsPassed(e)>n.pixelsPassed;n.passing&&E.each(o.onPassed,function(e,t){n.bottomVisible||n.pixelsPassed>a.get.pixelsPassed(e)?a.execute(t,e):o.once||a.remove.occurred(t)})}},onScreen:function(e){var t=a.get.elementCalculations(),n=e||o.onOnScreen,i="onScreen";if(e&&(a.debug("Adding callback for onScreen",e),o.onOnScreen=e),t.onScreen?a.execute(n,i):o.once||a.remove.occurred(i),e!==O)return t.onOnScreen},offScreen:function(e){var t=a.get.elementCalculations(),n=e||o.onOffScreen,i="offScreen";if(e&&(a.debug("Adding callback for offScreen",e),o.onOffScreen=e),t.offScreen?a.execute(n,i):o.once||a.remove.occurred(i),e!==O)return t.onOffScreen},passing:function(e){var t=a.get.elementCalculations(),n=e||o.onPassing,i="passing";if(e&&(a.debug("Adding callback for passing",e),o.onPassing=e),t.passing?a.execute(n,i):o.once||a.remove.occurred(i),e!==O)return t.passing},topVisible:function(e){var t=a.get.elementCalculations(),n=e||o.onTopVisible,i="topVisible";if(e&&(a.debug("Adding callback for top visible",e),o.onTopVisible=e),t.topVisible?a.execute(n,i):o.once||a.remove.occurred(i),e===O)return t.topVisible},bottomVisible:function(e){var t=a.get.elementCalculations(),n=e||o.onBottomVisible,i="bottomVisible";if(e&&(a.debug("Adding callback for bottom visible",e),o.onBottomVisible=e),t.bottomVisible?a.execute(n,i):o.once||a.remove.occurred(i),e===O)return t.bottomVisible},topPassed:function(e){var t=a.get.elementCalculations(),n=e||o.onTopPassed,i="topPassed";if(e&&(a.debug("Adding callback for top passed",e),o.onTopPassed=e),t.topPassed?a.execute(n,i):o.once||a.remove.occurred(i),e===O)return t.topPassed},bottomPassed:function(e){var t=a.get.elementCalculations(),n=e||o.onBottomPassed,i="bottomPassed";if(e&&(a.debug("Adding callback for bottom passed",e),o.onBottomPassed=e),t.bottomPassed?a.execute(n,i):o.once||a.remove.occurred(i),e===O)return t.bottomPassed},passingReverse:function(e){var t=a.get.elementCalculations(),n=e||o.onPassingReverse,i="passingReverse";if(e&&(a.debug("Adding callback for passing reverse",e),o.onPassingReverse=e),t.passing?o.once||a.remove.occurred(i):a.get.occurred("passing")&&a.execute(n,i),e!==O)return!t.passing},topVisibleReverse:function(e){var t=a.get.elementCalculations(),n=e||o.onTopVisibleReverse,i="topVisibleReverse";if(e&&(a.debug("Adding callback for top visible reverse",e),o.onTopVisibleReverse=e),t.topVisible?o.once||a.remove.occurred(i):a.get.occurred("topVisible")&&a.execute(n,i),e===O)return!t.topVisible},bottomVisibleReverse:function(e){var t=a.get.elementCalculations(),n=e||o.onBottomVisibleReverse,i="bottomVisibleReverse";if(e&&(a.debug("Adding callback for bottom visible reverse",e),o.onBottomVisibleReverse=e),t.bottomVisible?o.once||a.remove.occurred(i):a.get.occurred("bottomVisible")&&a.execute(n,i),e===O)return!t.bottomVisible},topPassedReverse:function(e){var t=a.get.elementCalculations(),n=e||o.onTopPassedReverse,i="topPassedReverse";if(e&&(a.debug("Adding callback for top passed reverse",e),o.onTopPassedReverse=e),t.topPassed?o.once||a.remove.occurred(i):a.get.occurred("topPassed")&&a.execute(n,i),e===O)return!t.onTopPassed},bottomPassedReverse:function(e){var t=a.get.elementCalculations(),n=e||o.onBottomPassedReverse,i="bottomPassedReverse";if(e&&(a.debug("Adding callback for bottom passed reverse",e),o.onBottomPassedReverse=e),t.bottomPassed?o.once||a.remove.occurred(i):a.get.occurred("bottomPassed")&&a.execute(n,i),e===O)return!t.bottomPassed},execute:function(e,t){var n=a.get.elementCalculations(),i=a.get.screenCalculations();(e=e||!1)&&(o.continuous?(a.debug("Callback being called continuously",t,n),e.call(b,n,i)):a.get.occurred(t)||(a.debug("Conditions met",t,n),e.call(b,n,i))),a.save.occurred(t)},remove:{fixed:function(){a.debug("Removing fixed position"),f.removeClass(i.fixed).css({position:"",top:"",left:"",zIndex:""}),o.onUnfixed.call(b)},placeholder:function(){a.debug("Removing placeholder content"),e&&e.remove()},occurred:function(e){if(e){var t=a.cache.occurred;t[e]!==O&&!0===t[e]&&(a.debug("Callback can now be called again",e),a.cache.occurred[e]=!1)}else a.cache.occurred={}}},save:{calculations:function(){a.verbose("Saving all calculations necessary to determine positioning"),a.save.direction(),a.save.screenCalculations(),a.save.elementCalculations()},occurred:function(e){e&&(a.cache.occurred[e]!==O&&!0===a.cache.occurred[e]||(a.verbose("Saving callback occurred",e),a.cache.occurred[e]=!0))},scroll:function(e){e=e+o.offset||g.scrollTop()+o.offset,a.cache.scroll=e},direction:function(){var e,t=a.get.scroll(),n=a.get.lastScroll();return e=n<t&&n?"down":t<n&&n?"up":"static",a.cache.direction=e,a.cache.direction},elementPosition:function(){var e=a.cache.element,t=a.get.screenSize();return a.verbose("Saving element position"),e.fits=e.height<t.height,e.offset=f.offset(),e.width=f.outerWidth(),e.height=f.outerHeight(),a.is.verticallyScrollableContext()&&(e.offset.top+=g.scrollTop()-g.offset().top),a.is.horizontallyScrollableContext()&&(e.offset.left+=g.scrollLeft-g.offset().left),a.cache.element=e},elementCalculations:function(){var e=a.get.screenCalculations(),t=a.get.elementPosition();return o.includeMargin?(t.margin={},t.margin.top=parseInt(f.css("margin-top"),10),t.margin.bottom=parseInt(f.css("margin-bottom"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topPassed=e.top>=t.top,t.bottomPassed=e.top>=t.bottom,t.topVisible=e.bottom>=t.top&&!t.topPassed,t.bottomVisible=e.bottom>=t.bottom&&!t.bottomPassed,t.pixelsPassed=0,t.percentagePassed=0,t.onScreen=(t.topVisible||t.passing)&&!t.bottomPassed,t.passing=t.topPassed&&!t.bottomPassed,t.offScreen=!t.onScreen,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),a.cache.element=t,a.verbose("Updated element calculations",t),t},screenCalculations:function(){var e=a.get.scroll();return a.save.direction(),a.cache.screen.top=e,a.cache.screen.bottom=e+a.cache.screen.height,a.cache.screen},screenSize:function(){a.verbose("Saving window position"),a.cache.screen={height:g.height()}},position:function(){a.save.screenSize(),a.save.elementPosition()}},get:{pixelsPassed:function(e){var t=a.get.elementCalculations();return-1<e.search("%")?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return a.cache.occurred!==O&&a.cache.occurred[e]||!1},direction:function(){return a.cache.direction===O&&a.save.direction(),a.cache.direction},elementPosition:function(){return a.cache.element===O&&a.save.elementPosition(),a.cache.element},elementCalculations:function(){return a.cache.element===O&&a.save.elementCalculations(),a.cache.element},screenCalculations:function(){return a.cache.screen===O&&a.save.screenCalculations(),a.cache.screen},screenSize:function(){return a.cache.screen===O&&a.save.screenSize(),a.cache.screen},scroll:function(){return a.cache.scroll===O&&a.save.scroll(),a.cache.scroll},lastScroll:function(){return a.cache.screen===O?(a.debug("First scroll event, no last scroll could be found"),!1):a.cache.screen.top}},setting:function(e,t){if(E.isPlainObject(e))E.extend(!0,o,e);else{if(t===O)return o[e];o[e]=t}},internal:function(e,t){if(E.isPlainObject(e))E.extend(!0,a,e);else{if(t===O)return a[e];a[e]=t}},debug:function(){!o.silent&&o.debug&&(o.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,o.name+":"),a.debug.apply(console,arguments)))},verbose:function(){!o.silent&&o.verbose&&o.debug&&(o.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),a.verbose.apply(console,arguments)))},error:function(){o.silent||(a.error=Function.prototype.bind.call(console.error,console,o.name+":"),a.error.apply(console,arguments))},performance:{log:function(e){var t,n;o.performance&&(n=(t=(new Date).getTime())-(k||t),k=t,C.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:b,"Execution Time":n})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,500)},display:function(){var e=o.name+":",n=0;k=!1,clearTimeout(a.performance.timer),E.each(C,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",x&&(e+=" '"+x+"'"),(console.group!==O||console.table!==O)&&0<C.length&&(console.groupCollapsed(e),console.table?console.table(C):E.each(C,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),C=[]}},invoke:function(i,e,t){var o,r,n,s=p;return e=e||S,t=b||t,"string"==typeof i&&s!==O&&(i=i.split(/[\. ]/),o=i.length-1,E.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(E.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==O)return r=s[n],!1;if(!E.isPlainObject(s[t])||e==o)return s[t]!==O?r=s[t]:a.error(c.method,i),!1;s=s[t]}})),E.isFunction(r)?n=r.apply(t,e):r!==O&&(n=r),E.isArray(y)?y.push(n):y!==O?y=[y,n]:n!==O&&(y=n),r}},R?(p===O&&a.initialize(),p.save.scroll(),p.save.calculations(),a.invoke(w)):(p!==O&&p.invoke("destroy"),a.initialize())}),y!==O?y:this},E.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:A,throttle:!1,type:!1,zIndex:"10",transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder",visible:"visible"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);